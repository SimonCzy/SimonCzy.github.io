<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>A Web 502 Error Caused By A Docker Upgrade</title>
    <url>/2023/03/16/A-Web-502-Error-Caused-By-A-Docker-Upgrade/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>Handle Docker or DevOps Error</li>
<li>Server Down</li>
<li>Rookie DevOps</li>
</ul>
<span id="more"></span>

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>The docker image is upgraded. And I need to deal with the error it causes.</p>
<h3 id="Framework"><a href="#Framework" class="headerlink" title="Framework"></a>Framework</h3><ul>
<li>Amazon Cloud: EC2 Instance</li>
<li>Gitlab: Pipeline</li>
<li>Dockerhub</li>
</ul>
<h2 id="Operation-amp-Problem"><a href="#Operation-amp-Problem" class="headerlink" title="Operation &amp; Problem"></a>Operation &amp; Problem</h2><h3 id="1-Upgrade-the-docker-image"><a href="#1-Upgrade-the-docker-image" class="headerlink" title="1. Upgrade the docker image"></a>1. Upgrade the docker image</h3><p>Update the template in EC2 instance. Deploy a new environment by GitLab.</p>
<h3 id="2-502-Error"><a href="#2-502-Error" class="headerlink" title="2. 502 Error"></a>2. 502 Error</h3><p>Yeahâ€¦it causes 502 error obviously.</p>
<p><img data-src="/2023/03/16/A-Web-502-Error-Caused-By-A-Docker-Upgrade/1.png"></p>
<h3 id="3-Check-the-docker-container"><a href="#3-Check-the-docker-container" class="headerlink" title="3. Check the docker container"></a>3. Check the docker container</h3><p>In fact, it took quite a bit of time to jump from the previous step to this one. </p>
<p>At first, I mistakenly thought it was due to a network configuration error, so I kept checking the template and also the configuration file. But in fact, the 502 error can be interpreted as a service provisioning failure, and therefore incoming requests cannot be accessed.</p>
<p>So the first step of troubleshooting should be to check whether the service is started properly, and then start the rest of the troubleshooting later.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># check all the containers</span></span><br><span class="line">docker ps -a</span><br></pre></td></tr></table></figure>

<p>As we can see from the following picture, the containers started and exited many times in about 3min. It means there are some error when waking up the image</p>
<p><img data-src="/2023/03/16/A-Web-502-Error-Caused-By-A-Docker-Upgrade/2.png"></p>
<h3 id="4-Track-error-information-exitcode-126"><a href="#4-Track-error-information-exitcode-126" class="headerlink" title="4. Track error information - exitcode 126"></a>4. Track error information - exitcode 126</h3><p>Get the basic information from container.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker inspect ContainerID</span><br></pre></td></tr></table></figure>

<p>There are some information we may be interested in.</p>
<ul>
<li>ExitCode: The reason why a container exit. You can check <a href="https://komodor.com/learn/exit-codes-in-containers-and-kubernetes-the-complete-guide/">this page</a> for more specific exitcode. It is always a error summary. For 126,  it means that a command used in the container specification could not be invoked.</li>
<li>LogPath: The location where docker containers save their log</li>
</ul>
<p><img data-src="/2023/03/16/A-Web-502-Error-Caused-By-A-Docker-Upgrade/3.png"></p>
<p>Print out the log shown on the inspect, which is excatly a great example for <strong>exitcode-126</strong>.</p>
<p><img data-src="/2023/03/16/A-Web-502-Error-Caused-By-A-Docker-Upgrade/4.png"></p>
<h3 id="5-Upgrade-docker-image-use-user-â€œodooâ€-to-install-pyenv"><a href="#5-Upgrade-docker-image-use-user-â€œodooâ€-to-install-pyenv" class="headerlink" title="5. Upgrade docker image - use user â€œodooâ€ to install pyenv"></a>5. Upgrade docker image - use user â€œodooâ€ to install pyenv</h3><p>As you can see from the <font color='red'>previous post</font>, the error is introduced at that time.</p>
<p>The following dockerfile sentence will install pyenv into &#x2F;root&#x2F;, which results in that user â€œodooâ€ can not call python3.8.</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">USER</span> root</span><br><span class="line"></span><br><span class="line"><span class="comment"># omit some sentences</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># install pyenv, install python3.8.15 and make it global</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> curl -L https://raw.githubusercontent.com/yyuu/pyenv-installer/master/bin/pyenv-installer | bash &amp;&amp; <span class="built_in">printf</span> <span class="string">&quot;export PATH=\&quot;/root/.pyenv/bin:\$PATH\&quot;\neval \&quot;\$(pyenv init -)\&quot;\neval \&quot;\$(pyenv virtualenv-init -)\&quot;\n\nexport LC_ALL=C.UTF-8\nexport LANG=C.UTF-8&quot;</span> &gt;&gt; ~/.bashrc &amp;&amp; <span class="built_in">source</span> ~/.bashrc &amp;&amp; pyenv install 3.8.15 &amp;&amp; pyenv global 3.8.15</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># omit some sentences</span></span><br></pre></td></tr></table></figure>

<p>Therefore, after lots of unsuccessful trial, I choose to let odoo install the pyenv.</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">USER</span> root</span><br><span class="line"></span><br><span class="line"><span class="comment"># omit some sentences</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># use user &quot;odoo&quot; install pyenv, install python3.8.15 and make it global</span></span><br><span class="line"><span class="keyword">USER</span> odoo</span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> curl -L https://raw.githubusercontent.com/yyuu/pyenv-installer/master/bin/pyenv-installer | bash</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">printf</span> <span class="string">&quot;export PYENV_ROOT=\&quot;\$HOME/.pyenv\&quot;\ncommand -v pyenv &gt;/dev/null || export PATH=\&quot;\$PYENV_ROOT/bin:\$PATH\&quot;\neval \&quot;\$(pyenv init -)\&quot;\neval \&quot;\$(pyenv virtualenv-init -)\&quot;\n&quot;</span> &gt;&gt; ~/.bashrc &amp;&amp; <span class="built_in">source</span> ~/.bashrc &amp;&amp; pyenv install 3.8.15 &amp;&amp; pyenv global 3.8.15</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">USER</span> root</span><br><span class="line"><span class="comment"># omit some sentences</span></span><br></pre></td></tr></table></figure>

<h3 id="6-Upload-docker-image-to-docker-hub"><a href="#6-Upload-docker-image-to-docker-hub" class="headerlink" title="6. Upload docker image to docker hub"></a>6. Upload docker image to docker hub</h3><p>After downloading lots of third-party libraries, the size of image increased to almost 10GB.</p>
<p><img data-src="/2023/03/16/A-Web-502-Error-Caused-By-A-Docker-Upgrade/5.png"></p>
<p>Thereâ€™s not much more to say. In the future, I will only recommend using the command line for uploading docker images that are too large, which took me 5 hours to learn this lesson.</p>
<h3 id="7-502-Error"><a href="#7-502-Error" class="headerlink" title="7. 502 Error"></a>7. 502 Error</h3><p>ğŸ§˜â€â™€ï¸ Take it easy.</p>
<h3 id="8-Fail-to-download-docker-image-in-server"><a href="#8-Fail-to-download-docker-image-in-server" class="headerlink" title="8. Fail to download docker image in server"></a>8. Fail to download docker image in server</h3><p>Though I click the â€œRunâ€ button in the pipeline, I still can not find any containers on the server.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># check new version container</span></span><br><span class="line">docker ps -a</span><br><span class="line"></span><br><span class="line"><span class="comment"># check new version image</span></span><br><span class="line">docker image <span class="built_in">ls</span></span><br></pre></td></tr></table></figure>

<p>After waiting for a long time, I still can not see the new version image. At this time, you can download it by yourself.</p>
<p>BTW, The way for the server to download a docker image:</p>
<ul>
<li>docker hub first, local then</li>
<li>check the docker hub if the version updated (imageID)</li>
</ul>
<h3 id="9-502-Error"><a href="#9-502-Error" class="headerlink" title="9. 502 Error"></a>9. 502 Error</h3><p>ğŸ§˜â€â™€ï¸</p>
<h3 id="10-Track-error-information-exitcode-127"><a href="#10-Track-error-information-exitcode-127" class="headerlink" title="10. Track error information - exitcode 127"></a>10. Track error information - exitcode 127</h3><p>Here is the log</p>
<p><img data-src="/2023/03/16/A-Web-502-Error-Caused-By-A-Docker-Upgrade/6.png"></p>
<p>Here is some python feature. Some .py files will put â€œ#!&#x2F;usr&#x2F;bin&#x2F;env python3â€ in their first line. Therefore, the file can be run by system python3 parser.</p>
<p>According to the log, there seems to be no python in this image, which is completely different from my local environment.</p>
<p>As the docker is run by the command â€œ&#x2F;entrypoint.sh odooâ€, I need to debug by putting some output in the entrypoint.sh to see what is going on.</p>
<p><img data-src="/2023/03/16/A-Web-502-Error-Caused-By-A-Docker-Upgrade/7.png"></p>
<p>Here comes the result.</p>
<p><img data-src="/2023/03/16/A-Web-502-Error-Caused-By-A-Docker-Upgrade/8.png"></p>
<p>Fxck, it takes me about 4 hours. And the reason is that the .yaml file of this image change the folder.</p>
<p><img data-src="/2023/03/16/A-Web-502-Error-Caused-By-A-Docker-Upgrade/9.png"></p>
<p>Then just need to update the docker to change the pyenv location.</p>
<p>After reading the pyenv-installer script, I set up the env variable $PYENV_ROOT by dockerfile. And finally, everything works well!</p>
<h3 id="11-Winner-Winner-Chicken-Dinner"><a href="#11-Winner-Winner-Chicken-Dinner" class="headerlink" title="11. Winner Winner Chicken Dinner"></a>11. Winner Winner Chicken Dinner</h3><h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><ul>
<li><a href="https://komodor.com/learn/exit-codes-in-containers-and-kubernetes-the-complete-guide/">Exit Codes In Containers &amp; Kubernetes â€“ The Complete Guide</a></li>
</ul>
]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Troubleshoot</tag>
      </tags>
  </entry>
  <entry>
    <title>Anaconda Linux Command</title>
    <url>/2023/06/03/Anaconda-Linux-Command/</url>
    <content><![CDATA[<p>Frequently used anaconda-related commands</p>
<span id="more"></span>

<h2 id="Anaconda-Linux-Command-Quick-Start"><a href="#Anaconda-Linux-Command-Quick-Start" class="headerlink" title="Anaconda Linux Command Quick Start"></a>Anaconda Linux Command Quick Start</h2><h3 id="Turn-off-the-default-startup-base-environment"><a href="#Turn-off-the-default-startup-base-environment" class="headerlink" title="Turn off the default startup base environment"></a>Turn off the default startup base environment</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">conda config --<span class="built_in">set</span> auto_activate_base <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h3 id="Turn-on-the-default-startup-base-environment"><a href="#Turn-on-the-default-startup-base-environment" class="headerlink" title="Turn on the default startup base environment"></a>Turn on the default startup base environment</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">conda config --<span class="built_in">set</span> auto_activate_base <span class="literal">true</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>Quick Check</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Create Your Own Discord Bot</title>
    <url>/2023/04/17/Create-Your-Own-Discord-Bot/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>Create a discord bot</li>
</ul>
<span id="more"></span>

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>To set up a assisting robots to help me obtain information.</p>
<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><h3 id="0-Preparation"><a href="#0-Preparation" class="headerlink" title="0. Preparation"></a>0. Preparation</h3><p>You should:</p>
<ul>
<li>have a discord accound</li>
<li>have a python environment</li>
</ul>
<h3 id="1-Create-a-discord-bot"><a href="#1-Create-a-discord-bot" class="headerlink" title="1. Create a discord bot"></a>1. Create a discord bot</h3><h4 id="1-1-Enter-discord-application-page"><a href="#1-1-Enter-discord-application-page" class="headerlink" title="1.1 Enter discord application page"></a>1.1 Enter <a href="https://discord.com/developers/applications">discord application page</a></h4><h4 id="1-2-Click-â€œNew-Applicationâ€"><a href="#1-2-Click-â€œNew-Applicationâ€" class="headerlink" title="1.2 Click â€œNew Applicationâ€"></a>1.2 Click â€œNew Applicationâ€</h4><p><img data-src="/2023/04/17/Create-Your-Own-Discord-Bot/1.png"></p>
<h4 id="1-3-Give-it-a-new-name"><a href="#1-3-Give-it-a-new-name" class="headerlink" title="1.3 Give it a new name"></a>1.3 Give it a new name</h4><p><img data-src="/2023/04/17/Create-Your-Own-Discord-Bot/2.png"></p>
<h4 id="1-4-Get-your-discord-bot-token"><a href="#1-4-Get-your-discord-bot-token" class="headerlink" title="1.4 Get your discord bot token"></a>1.4 Get your discord bot token</h4><p>Enter Bot page</p>
<p><img data-src="/2023/04/17/Create-Your-Own-Discord-Bot/4.png"></p>
<p>At the beginning, you need to click the â€œReset Tokenâ€ button to gain your first token. You should safely store it because anyone who owns this token can control its corresponding bot. We will use it in <strong><u>Step 4 Make the first move</u></strong>.</p>
<p><img data-src="/2023/04/17/Create-Your-Own-Discord-Bot/3.png"></p>
<p>If you feel unncomfortable, you can reset your token at any time.</p>
<h3 id="2-Add-you-discord-server"><a href="#2-Add-you-discord-server" class="headerlink" title="2. Add you discord server"></a>2. Add you discord server</h3><p>This server is the place that you can put your dicord bot in.</p>
<h3 id="3-Add-your-bot-into-your-server"><a href="#3-Add-your-bot-into-your-server" class="headerlink" title="3. Add your bot into your server"></a>3. Add your bot into your server</h3><p>Set your application as a bot.</p>
<p><img data-src="/2023/04/17/Create-Your-Own-Discord-Bot/5.png"></p>
<p>Assign it corresponding permissions. And copy the link.</p>
<p><img data-src="/2023/04/17/Create-Your-Own-Discord-Bot/6.png"></p>
<p>Go to the link, select your server and authorize it.</p>
<p><img data-src="/2023/04/17/Create-Your-Own-Discord-Bot/7.png"></p>
<p>Now you have your offline server bot.</p>
<p><img data-src="/2023/04/17/Create-Your-Own-Discord-Bot/8.png"></p>
<h3 id="4-Make-the-first-move"><a href="#4-Make-the-first-move" class="headerlink" title="4. Make the first move"></a>4. Make the first move</h3><p>Your have already created a bot and assign it into your server. And you have your bot token saved in <strong><u>step 2</u></strong>. Now you can teach your bot to make the first move.</p>
<p>Create this python file and run it.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> discord</span><br><span class="line"></span><br><span class="line">client = discord.Client(intents=discord.Intents.default())</span><br><span class="line"></span><br><span class="line"><span class="meta">@client.event</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">on_ready</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;We have logged in as &#123;0.user&#125;&#x27;</span>.<span class="built_in">format</span>(client))</span><br><span class="line"></span><br><span class="line"><span class="meta">@client.event</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">on_message</span>(<span class="params">message</span>):</span><br><span class="line">    <span class="keyword">if</span> message.author == client.user:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> message.content.startswith(<span class="string">&#x27;$hello&#x27;</span>):</span><br><span class="line">        <span class="keyword">await</span> message.channel.send(<span class="string">&#x27;Hello!&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Assume your token is &quot;abc456DEF&quot;.</span></span><br><span class="line">token = <span class="string">&quot;abc456DEF&quot;</span></span><br><span class="line"></span><br><span class="line">client.run(token)</span><br></pre></td></tr></table></figure>

<p>And now Jarvis is online.</p>
<p><img data-src="/2023/04/17/Create-Your-Own-Discord-Bot/9.png"></p>
<p>Then the bot will reply you â€œHello!â€ when you say â€œ$helloâ€ to it.</p>
<p><img data-src="/2023/04/17/Create-Your-Own-Discord-Bot/10.png"></p>
<h3 id="5-Improvement"><a href="#5-Improvement" class="headerlink" title="5. Improvement"></a>5. Improvement</h3><p>Now, you have create your bot. What you can do next is to create a new world!</p>
<p>For more information, you can check the <a href="https://discordpy.readthedocs.io/en/latest/index.html">discord official doc</a>.</p>
]]></content>
      <tags>
        <tag>Python</tag>
        <tag>Introduction</tag>
        <tag>Bot</tag>
      </tags>
  </entry>
  <entry>
    <title>Create Your Own Telegram Bot</title>
    <url>/2023/08/09/Create-Your-Own-Telegram-Bot/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>Draft</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Introduction</tag>
        <tag>Bot</tag>
      </tags>
  </entry>
  <entry>
    <title>C++æ¦‚å¿µçŸ¥è¯†æ•´ç†</title>
    <url>/2023/08/24/Cpp%E6%A6%82%E5%BF%B5%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/</url>
    <content><![CDATA[<p>ğŸ’¡ é¢å‘å°±ä¸šçš„C++æ¦‚å¿µçŸ¥è¯†æ•´ç†</p>
<span id="more"></span>

<h1 id="C-æ¦‚å¿µçŸ¥è¯†"><a href="#C-æ¦‚å¿µçŸ¥è¯†" class="headerlink" title="C++æ¦‚å¿µçŸ¥è¯†"></a>C++æ¦‚å¿µçŸ¥è¯†</h1><h2 id="å†…å­˜å­˜å‚¨æœºåˆ¶"><a href="#å†…å­˜å­˜å‚¨æœºåˆ¶" class="headerlink" title="å†…å­˜å­˜å‚¨æœºåˆ¶"></a>å†…å­˜å­˜å‚¨æœºåˆ¶</h2><p>æ ¹æ®æ•°æ®ç±»å‹çš„ä¸åŒï¼ŒC++ä¼šå°†æ•°æ®ä¼šå­˜å‚¨åœ¨å†…å­˜çš„ä¸åŒä½ç½®ã€‚è¯·åˆ†åˆ«ä»‹ç»å†…å­˜ä½ç½®åŠå…¶å¯¹åº”æ•°æ®ç±»å‹ã€‚</p>
<details>
<summary>ç­”æ¡ˆ</summary>

<ul>
<li><strong>å †</strong><ul>
<li>å­˜æ”¾ç¨‹åºæ‰€ç”³è¯·çš„å†…å­˜ï¼Œå¦‚mallocå’Œnewç”³è¯·çš„å†…å­˜</li>
<li>ç”Ÿå‘½å‘¨æœŸå–å†³äºç¨‹åºå‘˜çš„ç”³è¯·å’Œé‡Šæ”¾ï¼Œfreeå’Œdelete</li>
</ul>
</li>
<li><strong>æ ˆ</strong><ul>
<li>å­˜æ”¾å‡½æ•°å‚æ•°ï¼Œå‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡å’Œä¸´æ—¶å˜é‡ã€‚</li>
<li>ç”Ÿå‘½å‘¨æœŸä»å‡½æ•°è°ƒç”¨å¼€å§‹åˆ°å‡½æ•°è°ƒç”¨ç»“æŸã€‚å› æ­¤éƒ½æ˜¯ç”¨æ ˆæ¥å­˜å‚¨ï¼Œåè¿›å…ˆå‡ºï¼Œç”¨å®Œå°±ä¸¢ã€‚</li>
<li>çˆ†æ ˆçš„è¯´æ³•ï¼Œå…¶å®ä¹Ÿå°±æ˜¯å‡½æ•°è°ƒç”¨çš„æ¬¡æ•°å¤ªæ·±ã€‚</li>
</ul>
</li>
<li><strong>å…¨å±€&#x2F;é™æ€å­˜å‚¨åŒº</strong><ul>
<li>ç”¨æ¥å­˜æ”¾å…¨å±€å˜é‡ã€é™æ€å˜é‡å’Œå¸¸é‡</li>
<li>ç”Ÿå‘½å‘¨æœŸä»ç¨‹åºå¼€å§‹åˆ°ç¨‹åºç»“æŸ</li>
</ul>
</li>
<li><strong>å¸¸é‡å­—ç¬¦ä¸²å­˜å‚¨åŒº</strong><ul>
<li>å¸¸é‡å­—ç¬¦ä¸²å’Œå…¶ä»–æ–‡å­—å¸¸é‡</li>
<li>å±äºåªè¯»ç±»å‹</li>
</ul>
</li>
<li><strong>ä»£ç åŒº</strong><ul>
<li>ç¨‹åºè¿è¡Œçš„æœºå™¨ç </li>
<li>å±äºåªè¯»ç±»å‹</li>
</ul>
</li>
</ul>
</details>

<h2 id="mallocå’Œnewçš„åŒºåˆ«"><a href="#mallocå’Œnewçš„åŒºåˆ«" class="headerlink" title="mallocå’Œnewçš„åŒºåˆ«"></a>mallocå’Œnewçš„åŒºåˆ«</h2><details>
<summary>ç­”æ¡ˆ</summary>

<ul>
<li><strong>æ¥æºä¸ç”¨é€”</strong>ï¼š<ul>
<li><code>malloc</code>: æ¥è‡ªCè¯­è¨€çš„æ ‡å‡†åº“ã€‚ç”¨äºåˆ†é…æŒ‡å®šå¤§å°çš„è¿ç»­å†…å­˜å—ã€‚</li>
<li><code>new</code>: æ˜¯C++ä¸­çš„è¿ç®—ç¬¦ã€‚é™¤äº†åˆ†é…å†…å­˜å¤–ï¼Œè¿˜ä¼šè°ƒç”¨å¯¹è±¡çš„æ„é€ å‡½æ•°ã€‚</li>
</ul>
</li>
<li><strong>è¿”å›ç±»å‹</strong>ï¼š<ul>
<li><code>malloc</code>: è¿”å›<code>void*</code>ï¼Œè¿™æ„å‘³ç€è¿”å›çš„æŒ‡é’ˆéœ€è¦å¼ºåˆ¶è½¬æ¢ä¸ºé€‚å½“çš„ç±»å‹ã€‚</li>
<li><code>new</code>: è¿”å›åˆ†é…çš„æ•°æ®ç±»å‹çš„æ­£ç¡®æŒ‡é’ˆï¼Œä¸éœ€è¦ä»»ä½•ç±»å‹è½¬æ¢ã€‚</li>
</ul>
</li>
<li><strong>é”™è¯¯å¤„ç†</strong><ul>
<li><code>malloc</code>: å¦‚æœåˆ†é…å¤±è´¥ï¼Œè¿”å›<code>NULL</code>ã€‚</li>
<li><code>new</code>: å¦‚æœåˆ†é…å¤±è´¥ï¼Œä¼šæŠ›å‡º<code>std::bad_alloc</code>å¼‚å¸¸ï¼ˆé™¤éä½¿ç”¨<code>new(std::nothrow)</code>ï¼Œè¿™ç§æƒ…å†µä¸‹å¦‚æœåˆ†é…å¤±è´¥ä¼šè¿”å›<code>NULL</code>ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>åˆå§‹åŒ–</strong><ul>
<li><code>malloc</code>: ä»…ä»…åˆ†é…å†…å­˜ï¼Œä¸åˆå§‹åŒ–ã€‚ä¹Ÿæœ‰å¯¹åº”çš„<code>calloc</code>å‡½æ•°ï¼Œå¯ä»¥åˆå§‹åŒ–åˆ†é…çš„å†…å­˜ä¸ºé›¶ã€‚</li>
<li><code>new</code>: å¯¹äºéå†…å»ºç±»å‹ï¼Œä¼šè°ƒç”¨ç›¸åº”çš„æ„é€ å‡½æ•°è¿›è¡Œåˆå§‹åŒ–ã€‚</li>
</ul>
</li>
<li><strong>å¤§å°å‚æ•°</strong><ul>
<li><code>malloc</code>: éœ€è¦æä¾›è¦åˆ†é…çš„å­—èŠ‚å¤§å°ï¼Œä¾‹å¦‚<code>malloc(5 * sizeof(int))</code>ã€‚</li>
<li><code>new</code>: æ ¹æ®æ•°æ®ç±»å‹è‡ªåŠ¨ç¡®å®šå¤§å°ï¼Œä¾‹å¦‚<code>new int[5]</code>ã€‚</li>
</ul>
</li>
<li><strong>é…å¯¹çš„é‡Šæ”¾æ“ä½œ</strong>ï¼š<ul>
<li><code>malloc</code>: ä½¿ç”¨<code>free</code>æ¥é‡Šæ”¾å†…å­˜ã€‚</li>
<li><code>new</code>: ä½¿ç”¨<code>delete</code>æˆ–<code>delete[]</code>æ¥é‡Šæ”¾å†…å­˜ã€‚</li>
</ul>
</li>
<li><strong>çµæ´»æ€§ä¸é‡è½½</strong><ul>
<li><code>malloc</code>: ä¸èƒ½è¢«é‡è½½ã€‚</li>
<li><code>new</code>: åœ¨C++ä¸­å¯ä»¥è¢«é‡è½½ï¼Œä¸ºç”¨æˆ·æä¾›æ›´å¤šçš„çµæ´»æ€§ã€‚</li>
</ul>
</li>
</ul>
</details>

<p>æ„é€ å‡½æ•°å’Œææ„å‡½æ•°</p>
<p>æ™ºèƒ½æŒ‡é’ˆ</p>
<p>ç±»çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°</p>
<p>C++11å¦‚ä½•ä¿è¯ä»£ç åªè¿è¡Œäº†ä¸€æ¬¡</p>
<p>newçš„æ“ä½œç¬¦é‡è½½</p>
<p>std::memset</p>
<p>ç»§æ‰¿ä¸å¤šæ€</p>
<p>ç±»ä¸­çš„this</p>
<p>é™æ€å˜é‡å’Œå¸¸é‡</p>
<p>inlineå’Œextern</p>
<p>c++åˆå§‹åŒ–é¡ºåº</p>
<p>c++æ–°ç‰¹æ€§</p>
<p>è™šå‡½æ•°å’Œçº¯è™šå‡½æ•°</p>
<p>å®</p>
<p>cmake</p>
<p>GDB</p>
]]></content>
      <categories>
        <category>Draft</category>
      </categories>
      <tags>
        <tag>Quick Check</tag>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title>C++ä»£ç çŸ¥è¯†æ•´ç†</title>
    <url>/2023/08/24/Cpp%E4%BB%A3%E7%A0%81%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/</url>
    <content><![CDATA[<p>ğŸ’¡ é¢å‘å°±ä¸šçš„C++ä»£ç çŸ¥è¯†æ•´ç†</p>
<span id="more"></span>

<h1 id="C-ä»£ç çŸ¥è¯†"><a href="#C-ä»£ç çŸ¥è¯†" class="headerlink" title="C++ä»£ç çŸ¥è¯†"></a>C++ä»£ç çŸ¥è¯†</h1><h3 id="For"><a href="#For" class="headerlink" title="For"></a>For</h3><h4 id="for-each"><a href="#for-each" class="headerlink" title="for-each"></a>for-each</h4><h4 id="for-specific-value"><a href="#for-specific-value" class="headerlink" title="for specific value"></a>for specific value</h4><h3 id="Reference-amp"><a href="#Reference-amp" class="headerlink" title="Reference (&amp;)"></a>Reference (&amp;)</h3><h4 id="Use-Reference-in-Function-Parameter"><a href="#Use-Reference-in-Function-Parameter" class="headerlink" title="Use Reference in Function Parameter"></a>Use Reference in Function Parameter</h4><h3 id="Iterator"><a href="#Iterator" class="headerlink" title="Iterator"></a>Iterator</h3><p>The magical way to use trravelsal in STL (vector, map, list).</p>
<h4 id="Forward-amp-Backward"><a href="#Forward-amp-Backward" class="headerlink" title="Forward &amp; Backward"></a>Forward &amp; Backward</h4><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta"># forward</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span> ,<span class="number">8</span>&#125;;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt;::iterator i;</span><br><span class="line"><span class="keyword">for</span> (i = v.<span class="built_in">begin</span>(); i != v.<span class="built_in">end</span>(); ++i) &#123;</span><br><span class="line">    count &lt;&lt; *i; <span class="meta"># use *i to show the item</span></span><br><span class="line">&#125; # <span class="number">13578</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># backward</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span> ,<span class="number">8</span>&#125;;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt;::reverse_iterator i;</span><br><span class="line"><span class="keyword">for</span> (i = v.<span class="built_in">rbegin</span>(); i != v.<span class="built_in">rend</span>(); ++i) &#123;</span><br><span class="line">    count &lt;&lt; *i; <span class="meta"># use *i to show the item</span></span><br><span class="line">&#125; # <span class="number">87531</span></span><br></pre></td></tr></table></figure>

<h2 id="C-11"><a href="#C-11" class="headerlink" title="C++ 11"></a>C++ 11</h2><h3 id="Emplace"><a href="#Emplace" class="headerlink" title="Emplace"></a>Emplace</h3><h4 id="why-emplace-function-have-a-better-efficiency"><a href="#why-emplace-function-have-a-better-efficiency" class="headerlink" title="why emplace function have a better efficiency"></a>why emplace function have a better efficiency</h4><p>Emplace can just create the data at the suitable location. But insert need to create first and then move to the suitable.</p>
<h3 id="Auto"><a href="#Auto" class="headerlink" title="Auto"></a>Auto</h3><p>Before c++11, auto exists but is useless.</p>
<p>On c++11, auto is used to infer data type. For example, if you have a very long data type name, you can use auto to replace it.</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta"># you have a unorder_map name umap and you want to create a iterator</span></span><br><span class="line">std::unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt;::iterator iter = umap.<span class="built_in">begin</span>();</span><br><span class="line"><span class="meta"># now you can replace as</span></span><br><span class="line"><span class="keyword">auto</span> iter = umap.<span class="built_in">begin</span>();</span><br></pre></td></tr></table></figure>

<h2 id="Data-Structure"><a href="#Data-Structure" class="headerlink" title="Data Structure"></a>Data Structure</h2><h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><h4 id="hashmap"><a href="#hashmap" class="headerlink" title="hashmap"></a>hashmap</h4><p>There is no standard hashmap before c++11. So c++11 adds hashmap into its standard library and names â€˜unorder_mapâ€™</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"># Initialization</span><br><span class="line">std::unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; umap;</span><br><span class="line"></span><br><span class="line"><span class="meta"># add item</span></span><br><span class="line">umap.<span class="built_in">emplace</span>(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">umap.<span class="built_in">emplace</span>(<span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Draft</category>
      </categories>
      <tags>
        <tag>Quick Check</tag>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title>Delete Mendeley From Word In Mac</title>
    <url>/2024/01/25/Delete-Mendeley-From-Word-In-Mac/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>Draft</category>
      </categories>
      <tags>
        <tag>Troubleshoot</tag>
        <tag>MacOS</tag>
      </tags>
  </entry>
  <entry>
    <title>Develop Your Addon Based On Odoo 12</title>
    <url>/2023/03/27/Develop-Your-Addon-Based-On-Odoo-12/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>Odoo Addon Customization</li>
<li>Develop Odoo Addon</li>
</ul>
<span id="more"></span>

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>I have already installed odoo 12 successfully on my Ubuntu  20.04, so the next step is to develop my personal addon module.</p>
<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><h3 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h3><p><a href="https://simonczy.github.io/2023/03/08/Install-Odoo12-On-Ubuntu20-04/">Install-Odoo12-On-Ubuntu20-04</a></p>
<h3 id="Clone-your-code-or-create-your-develop-folder"><a href="#Clone-your-code-or-create-your-develop-folder" class="headerlink" title="Clone your code or create your develop folder"></a>Clone your code or create your develop folder</h3><h3 id="Update-your-odoorc-file"><a href="#Update-your-odoorc-file" class="headerlink" title="Update your .odoorc file"></a>Update your .odoorc file</h3><p>Add your code folder into odoo configuration location and use â€œ,â€ as separator.</p>
<p><img data-src="/2023/03/27/Develop-Your-Addon-Based-On-Odoo-12/1.png"></p>
<p>If you check the link from Preparation carefully, you will know where .odoorc is.</p>
<p>If you decide to <strong>write your addon from scratch</strong>, you <strong>donâ€™t need to</strong> follow the rest of this post. You can just write your code on the folder you just created.</p>
<p>The rest of this post is for the people who want to <strong>use their previous code as foundation</strong>.</p>
<h3 id="Add-your-database-Optional"><a href="#Add-your-database-Optional" class="headerlink" title="Add your database (Optional)"></a>Add your database (Optional)</h3><p>If you already developed your addon before and had your database, you should move it from your original computer to your new compute.</p>
<h4 id="Go-to-the-odoo-database-manager"><a href="#Go-to-the-odoo-database-manager" class="headerlink" title="Go to the odoo database manager"></a>Go to the odoo database manager</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">http://localhost:8069/web/database/manager</span><br></pre></td></tr></table></figure>

<h4 id="Export-your-database"><a href="#Export-your-database" class="headerlink" title="Export your database"></a>Export your database</h4><p>Backup your database and save the .zip file.</p>
<p><img data-src="/2023/03/27/Develop-Your-Addon-Based-On-Odoo-12/2.png"></p>
<h4 id="Import-your-database"><a href="#Import-your-database" class="headerlink" title="Import your database"></a>Import your database</h4><p>Restore your database from downloaded .zip file</p>
<p><img data-src="/2023/03/27/Develop-Your-Addon-Based-On-Odoo-12/3.png"></p>
<p>Input the master password you set up before, chooes the .zip file and set up a new name.</p>
<p><img data-src="/2023/03/27/Develop-Your-Addon-Based-On-Odoo-12/4.png"></p>
<p>When it finishes, you may not find the database you just imported.</p>
<p><img data-src="/2023/03/27/Develop-Your-Addon-Based-On-Odoo-12/6.png"></p>
<p>Do not need to be panic, if you import again, it will show up this alert.</p>
<p><img data-src="/2023/03/27/Develop-Your-Addon-Based-On-Odoo-12/5.png"></p>
<h3 id="Update-your-odoorc-file-Optional"><a href="#Update-your-odoorc-file-Optional" class="headerlink" title="Update your .odoorc file (Optional)"></a>Update your .odoorc file (Optional)</h3><p>What you need to do is to update your database name in odoo configuration file.</p>
<p><img data-src="/2023/03/27/Develop-Your-Addon-Based-On-Odoo-12/7.png"></p>
<h3 id="Initialize-your-database-Optional"><a href="#Initialize-your-database-Optional" class="headerlink" title="Initialize your database (Optional)"></a>Initialize your database (Optional)</h3><p>In this time, when you run odoo, it may ask you to initial your database. You can run this command to initialize your database.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./odoo-bin -i base</span><br></pre></td></tr></table></figure>

<h3 id="Update-all-the-addon-module-Optional"><a href="#Update-all-the-addon-module-Optional" class="headerlink" title="Update all the addon module (Optional)"></a>Update all the addon module (Optional)</h3><p>Run the following code to update all your addon module, it may take a while.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./odoo-bin -u all</span><br></pre></td></tr></table></figure>

<h3 id="Enjoy-your-addon"><a href="#Enjoy-your-addon" class="headerlink" title="Enjoy your addon"></a>Enjoy your addon</h3>]]></content>
      <tags>
        <tag>Odoo</tag>
        <tag>Env/Config</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker Command</title>
    <url>/2023/02/15/Docker-Command/</url>
    <content><![CDATA[<p>Frequently used docker commands</p>
<span id="more"></span>

<h2 id="Docker-Quick-Start"><a href="#Docker-Quick-Start" class="headerlink" title="Docker Quick Start"></a>Docker Quick Start</h2><h3 id="Create-docker-image-from-Dockerfile"><a href="#Create-docker-image-from-Dockerfile" class="headerlink" title="Create docker image from Dockerfile"></a>Create docker image from Dockerfile</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># run the command in the folder which contains Dockerfile</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># user@computer odoo_test % ls  -la</span></span><br><span class="line"><span class="comment"># total 8</span></span><br><span class="line"><span class="comment"># drwxr-xr-x@  3 user  staff    96 Mar  6 09:42 .</span></span><br><span class="line"><span class="comment"># drwx------@ 20 user  staff   640 Mar  7 01:42 ..</span></span><br><span class="line"><span class="comment"># -rw-r--r--@  1 user  staff  1546 Mar  6 09:42 Dockerfile</span></span><br><span class="line"></span><br><span class="line">docker build -t salarymaster/odoo:odoo_12 .</span><br></pre></td></tr></table></figure>

<h3 id="Download-docker-image"><a href="#Download-docker-image" class="headerlink" title="Download docker image"></a>Download docker image</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># download from Docker Hub</span></span><br><span class="line">docker pull salarymaster/odoo:H_12.0</span><br></pre></td></tr></table></figure>

<h3 id="Upload-docker-image"><a href="#Upload-docker-image" class="headerlink" title="Upload docker image"></a>Upload docker image</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># upload to Docker Hub</span></span><br><span class="line">docker push salarymaster/odoo:odoo_12</span><br><span class="line"></span><br><span class="line"><span class="comment"># &quot;salarymaster&quot; is the name of organization/user</span></span><br><span class="line"><span class="comment"># &quot;odoo&quot; is the repository name created by &quot;salarymaster&quot;</span></span><br><span class="line"><span class="comment"># &quot;odoo_12&quot; is the tag in &quot;odoo&quot; repository to distinguish different version of docker images</span></span><br></pre></td></tr></table></figure>

<h3 id="List-docker-image"><a href="#List-docker-image" class="headerlink" title="List docker image"></a>List docker image</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker image <span class="built_in">ls</span></span><br></pre></td></tr></table></figure>

<h3 id="Run-docker-image-x2F-Create-image-instance-container"><a href="#Run-docker-image-x2F-Create-image-instance-container" class="headerlink" title="Run docker image &#x2F; Create image instance (container)"></a>Run docker image &#x2F; Create image instance (container)</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># this command will maintain the container even exiting</span></span><br><span class="line">docker run -itu root salarymaster/odoo:basic /bin/bash</span><br></pre></td></tr></table></figure>

<h3 id="Tag-docker-image"><a href="#Tag-docker-image" class="headerlink" title="Tag docker image"></a>Tag docker image</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ImageID comes from &quot;docker image ls&quot; command</span></span><br><span class="line">docker tag ImageID salarymaster/odoo:new_tagname</span><br></pre></td></tr></table></figure>

<h3 id="Remove-docker-image"><a href="#Remove-docker-image" class="headerlink" title="Remove docker image"></a>Remove docker image</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># if ImageID is unique, use ImageID to remove</span></span><br><span class="line">docker image <span class="built_in">rm</span> ImageID</span><br><span class="line"></span><br><span class="line"><span class="comment"># if ImageID is not unique, use unique combination tag to remove</span></span><br><span class="line">docker image <span class="built_in">rm</span> OrgName/RepName:TagName</span><br></pre></td></tr></table></figure>

<h3 id="List-docker-container"><a href="#List-docker-container" class="headerlink" title="List docker container"></a>List docker container</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># list using containers</span></span><br><span class="line">docker ps </span><br><span class="line"></span><br><span class="line"><span class="comment"># list all the containers</span></span><br><span class="line">docker ps -a</span><br></pre></td></tr></table></figure>

<h3 id="Start-x2F-Stop-x2F-Restart-docker-container"><a href="#Start-x2F-Stop-x2F-Restart-docker-container" class="headerlink" title="Start&#x2F;Stop&#x2F;Restart docker container"></a>Start&#x2F;Stop&#x2F;Restart docker container</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker start ContainerID</span><br><span class="line">docker stop ContainerID</span><br><span class="line">docker restart ContainerID</span><br></pre></td></tr></table></figure>

<h3 id="Copy-file-using-docker-container"><a href="#Copy-file-using-docker-container" class="headerlink" title="Copy file using docker container"></a>Copy file using docker container</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># copy file from container to local</span></span><br><span class="line">docker <span class="built_in">cp</span> ContainerID:/a/b/c.txt /aa/bb/</span><br><span class="line"></span><br><span class="line"><span class="comment"># copy file from local to container</span></span><br><span class="line">docker <span class="built_in">cp</span> /aa/bb/ ContainerID:/a/b/c.txt</span><br></pre></td></tr></table></figure>

<h3 id="Enter-container"><a href="#Enter-container" class="headerlink" title="Enter container"></a>Enter container</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -it use terminal to enter container</span></span><br><span class="line"><span class="comment"># -u use specific user to enter container</span></span><br><span class="line">docker <span class="built_in">exec</span> -itu root 1a9e7655efdc /bin/bash</span><br></pre></td></tr></table></figure>

<h2 id="Advanced"><a href="#Advanced" class="headerlink" title="Advanced"></a>Advanced</h2><h3 id="Inspect-container"><a href="#Inspect-container" class="headerlink" title="Inspect container"></a>Inspect container</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># check the container detail</span></span><br><span class="line">docker inspect ContainerID</span><br><span class="line"><span class="comment"># or use this command to check docker log</span></span><br><span class="line">docker inspect ContainerID | grep -i <span class="built_in">log</span></span><br></pre></td></tr></table></figure>

<h3 id="Debug-dead-container"><a href="#Debug-dead-container" class="headerlink" title="Debug dead container"></a>Debug dead container</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># copy file from container to local</span></span><br><span class="line">docker <span class="built_in">cp</span> ContainerID:/a/b/c.txt /aa/bb/</span><br></pre></td></tr></table></figure>

<h3 id="Check-container-start-command"><a href="#Check-container-start-command" class="headerlink" title="Check container start command"></a>Check container start command</h3><p><img data-src="/2023/02/15/Docker-Command/1.png"></p>
]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Quick Check</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker Compose Command</title>
    <url>/2023/04/15/Docker-Compose-Command/</url>
    <content><![CDATA[<p>Frequently used docker compose commands</p>
<span id="more"></span>

<h2 id="Docker-Compose-Start"><a href="#Docker-Compose-Start" class="headerlink" title="Docker Compose Start"></a>Docker Compose Start</h2><h3 id="Start-compose"><a href="#Start-compose" class="headerlink" title="Start compose"></a>Start compose</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker compose up -d</span><br></pre></td></tr></table></figure>

<h3 id="End-compose"><a href="#End-compose" class="headerlink" title="End compose"></a>End compose</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker compose down</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Quick Check</tag>
      </tags>
  </entry>
  <entry>
    <title>Dockerfile Command</title>
    <url>/2023/03/07/Dockerfile-Command/</url>
    <content><![CDATA[<p>Frequently used dockerfile commands</p>
<span id="more"></span>

<h2 id="Dockerfile-Quick-Start"><a href="#Dockerfile-Quick-Start" class="headerlink" title="Dockerfile Quick Start"></a>Dockerfile Quick Start</h2><h3 id="Change-user"><a href="#Change-user" class="headerlink" title="Change user"></a>Change user</h3><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">USER</span> root</span><br></pre></td></tr></table></figure>

<h3 id="Run-bash-command"><a href="#Run-bash-command" class="headerlink" title="Run bash command"></a>Run bash command</h3><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">mv</span> /a/b/c.txt /aa/bb/cc.txt</span></span><br></pre></td></tr></table></figure>

<h3 id="Get-raw-docker-image"><a href="#Get-raw-docker-image" class="headerlink" title="Get raw docker image"></a>Get raw docker image</h3><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> salarymaster/odoo:office_odoo12</span><br></pre></td></tr></table></figure>

<h3 id="Copy-local-file-into-docker-image"><a href="#Copy-local-file-into-docker-image" class="headerlink" title="Copy local file into docker image"></a>Copy local file into docker image</h3><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">COPY</span><span class="language-bash"> ./requirements.txt /</span></span><br></pre></td></tr></table></figure>

<h3 id="Set-some-environment-varible"><a href="#Set-some-environment-varible" class="headerlink" title="Set some environment varible"></a>Set some environment varible</h3><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ENV</span> PYENV_ROOT=/var/local/pyenv</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Quick Check</tag>
      </tags>
  </entry>
  <entry>
    <title>Git Command</title>
    <url>/2023/03/28/Git-Command/</url>
    <content><![CDATA[<p>Frequently used git commands</p>
<span id="more"></span>

<h2 id="Git-Quick-Start"><a href="#Git-Quick-Start" class="headerlink" title="Git Quick Start"></a>Git Quick Start</h2><h3 id="version-fallback"><a href="#version-fallback" class="headerlink" title="version fallback"></a>version fallback</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># you need to be in the branch you want to fall back</span></span><br><span class="line"><span class="comment"># input &quot;q&quot; to quit</span></span><br><span class="line"><span class="comment"># write down the commit number, let us assume it it aa11bb22cc33dd44</span></span><br><span class="line">git <span class="built_in">log</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># you can fallback to the specific commit you want</span></span><br><span class="line"><span class="comment"># please remember to save your original or it will be erased</span></span><br><span class="line">git reset --hard aa11bb22cc33dd44</span><br></pre></td></tr></table></figure>

<h3 id="display-branch"><a href="#display-branch" class="headerlink" title="display branch"></a>display branch</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git branch</span><br><span class="line"></span><br><span class="line"><span class="comment"># output shown as following</span></span><br><span class="line"><span class="comment"># WI325-Simon-0413</span></span><br><span class="line"><span class="comment"># *develop (current branch with &quot;*&quot;)</span></span><br></pre></td></tr></table></figure>

<h3 id="delete-branch"><a href="#delete-branch" class="headerlink" title="delete branch"></a>delete branch</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git branch -d WI325-Simon-0413</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>Quick Check</tag>
      </tags>
  </entry>
  <entry>
    <title>Install Docker On Ubuntu</title>
    <url>/2023/04/15/Install-Docker-On-Ubuntu/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>Install docker  on your ubuntu</li>
</ul>
<span id="more"></span>

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>OS: Ubuntu 20.04</p>
<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><h3 id="Install-docker-and-docker-compose"><a href="#Install-docker-and-docker-compose" class="headerlink" title="Install docker and docker-compose"></a>Install <a href="https://docs.docker.com/get-docker/">docker</a> and <a href="https://docs.docker.com/compose/install/">docker-compose</a></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -L https://get.docker.com | sh</span><br></pre></td></tr></table></figure>

<h3 id="Add-current-user-to-docker-group"><a href="#Add-current-user-to-docker-group" class="headerlink" title="Add current user to docker group"></a>Add current user to docker group</h3><p>and you will not need to add sudo when you use docker</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo usermod -aG docker <span class="variable">$USER</span></span><br><span class="line">sudo reboot</span><br></pre></td></tr></table></figure>

<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p><a href="https://docs.rocket.chat/deploy/prepare-for-your-deployment/rapid-deployment-methods/docker-and-docker-compose">Docker &amp; Docker Compose</a></p>
]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>Env/Config</tag>
      </tags>
  </entry>
  <entry>
    <title>Install FTP Service On Ubuntu 20.04</title>
    <url>/2023/03/23/Install-FTP-Service-On-Ubuntu-20-04/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>FTP</li>
</ul>
<span id="more"></span>

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>To set up a local FTP server.</p>
<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><h3 id="1-Install-FTP"><a href="#1-Install-FTP" class="headerlink" title="1. Install FTP"></a>1. Install FTP</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install vsftpd</span><br></pre></td></tr></table></figure>

<h3 id="2-Configure-FTP"><a href="#2-Configure-FTP" class="headerlink" title="2. Configure FTP"></a>2. Configure FTP</h3><p>Keep a good habit: backup every file that you may destory</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">cp</span> /etc/vsftpd.conf /etc/vsftpd.conf.bak</span><br></pre></td></tr></table></figure>

<p>Edit FTP configuration</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/vsftpd.conf</span><br></pre></td></tr></table></figure>

<p>Here is my configuration</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Example config file /etc/vsftpd.conf</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The default compiled in settings are fairly paranoid. This sample file</span></span><br><span class="line"><span class="comment"># loosens things up a bit, to make the ftp daemon more usable.</span></span><br><span class="line"><span class="comment"># Please see vsftpd.conf.5 for all compiled in defaults.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># READ THIS: This example file is NOT an exhaustive list of vsftpd options.</span></span><br><span class="line"><span class="comment"># Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd&#x27;s</span></span><br><span class="line"><span class="comment"># capabilities.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Run standalone?  vsftpd can run either from an inetd or as a standalone</span></span><br><span class="line"><span class="comment"># daemon started from an initscript.</span></span><br><span class="line">listen=NO</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This directive enables listening on IPv6 sockets. By default, listening</span></span><br><span class="line"><span class="comment"># on the IPv6 &quot;any&quot; address (::) will accept connections from both IPv6</span></span><br><span class="line"><span class="comment"># and IPv4 clients. It is not necessary to listen on *both* IPv4 and IPv6</span></span><br><span class="line"><span class="comment"># sockets. If you want that (perhaps because you want to listen on specific</span></span><br><span class="line"><span class="comment"># addresses) then you must run two copies of vsftpd with two configuration</span></span><br><span class="line"><span class="comment"># files.</span></span><br><span class="line">listen_ipv6=YES</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Allow anonymous FTP? (Disabled by default).</span></span><br><span class="line">anonymous_enable=NO</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Uncomment this to allow local users to log in.</span></span><br><span class="line">local_enable=YES</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Uncomment this to enable any form of FTP write command.</span></span><br><span class="line">write_enable=YES</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Default umask for local users is 077. You may wish to change this to 022,</span></span><br><span class="line"><span class="comment"># if your users expect that (022 is used by most other ftpd&#x27;s)</span></span><br><span class="line">local_umask=022</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Uncomment this to allow the anonymous FTP user to upload files. This only</span></span><br><span class="line"><span class="comment"># has an effect if the above global write enable is activated. Also, you will</span></span><br><span class="line"><span class="comment"># obviously need to create a directory writable by the FTP user.</span></span><br><span class="line"><span class="comment">#anon_upload_enable=YES</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Uncomment this if you want the anonymous FTP user to be able to create</span></span><br><span class="line"><span class="comment"># new directories.</span></span><br><span class="line"><span class="comment">#anon_mkdir_write_enable=YES</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Activate directory messages - messages given to remote users when they</span></span><br><span class="line"><span class="comment"># go into a certain directory.</span></span><br><span class="line">dirmessage_enable=YES</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If enabled, vsftpd will display directory listings with the time</span></span><br><span class="line"><span class="comment"># in  your  local  time  zone.  The default is to display GMT. The</span></span><br><span class="line"><span class="comment"># times returned by the MDTM FTP command are also affected by this</span></span><br><span class="line"><span class="comment"># option.</span></span><br><span class="line">use_localtime=YES</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Activate logging of uploads/downloads.</span></span><br><span class="line">xferlog_enable=YES</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Make sure PORT transfer connections originate from port 20 (ftp-data).</span></span><br><span class="line">connect_from_port_20=YES</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If you want, you can arrange for uploaded anonymous files to be owned by</span></span><br><span class="line"><span class="comment"># a different user. Note! Using &quot;root&quot; for uploaded files is not</span></span><br><span class="line"><span class="comment"># recommended!</span></span><br><span class="line"><span class="comment">#chown_uploads=YES</span></span><br><span class="line"><span class="comment">#chown_username=whoever</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># You may override where the log file goes if you like. The default is shown</span></span><br><span class="line"><span class="comment"># below.</span></span><br><span class="line">xferlog_file=/var/log/vsftpd.log</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If you want, you can have your log file in standard ftpd xferlog format.</span></span><br><span class="line"><span class="comment"># Note that the default log file location is /var/log/xferlog in this case.</span></span><br><span class="line">xferlog_std_format=YES</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># You may change the default value for timing out an idle session.</span></span><br><span class="line"><span class="comment">#idle_session_timeout=600</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># You may change the default value for timing out a data connection.</span></span><br><span class="line"><span class="comment">#data_connection_timeout=120</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># It is recommended that you define on your system a unique user which the</span></span><br><span class="line"><span class="comment"># ftp server can use as a totally isolated and unprivileged user.</span></span><br><span class="line"><span class="comment">#nopriv_user=ftpsecure</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Enable this and the server will recognise asynchronous ABOR requests. Not</span></span><br><span class="line"><span class="comment"># recommended for security (the code is non-trivial). Not enabling it,</span></span><br><span class="line"><span class="comment"># however, may confuse older FTP clients.</span></span><br><span class="line"><span class="comment">#async_abor_enable=YES</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default the server will pretend to allow ASCII mode but in fact ignore</span></span><br><span class="line"><span class="comment"># the request. Turn on the below options to have the server actually do ASCII</span></span><br><span class="line"><span class="comment"># mangling on files when in ASCII mode.</span></span><br><span class="line"><span class="comment"># Beware that on some FTP servers, ASCII support allows a denial of service</span></span><br><span class="line"><span class="comment"># attack (DoS) via the command &quot;SIZE /big/file&quot; in ASCII mode. vsftpd</span></span><br><span class="line"><span class="comment"># predicted this attack and has always been safe, reporting the size of the</span></span><br><span class="line"><span class="comment"># raw file.</span></span><br><span class="line"><span class="comment"># ASCII mangling is a horrible feature of the protocol.</span></span><br><span class="line"><span class="comment">#ascii_upload_enable=YES</span></span><br><span class="line"><span class="comment">#ascii_download_enable=YES</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># You may fully customise the login banner string:</span></span><br><span class="line">ftpd_banner=Welcome to Simon Ubuntu FTP service.</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># You may specify a file of disallowed anonymous e-mail addresses. Apparently</span></span><br><span class="line"><span class="comment"># useful for combatting certain DoS attacks.</span></span><br><span class="line"><span class="comment">#deny_email_enable=YES</span></span><br><span class="line"><span class="comment"># (default follows)</span></span><br><span class="line"><span class="comment">#banned_email_file=/etc/vsftpd.banned_emails</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># You may restrict local users to their home directories.  See the FAQ for</span></span><br><span class="line"><span class="comment"># the possible risks in this before using chroot_local_user or</span></span><br><span class="line"><span class="comment"># chroot_list_enable below.</span></span><br><span class="line"><span class="comment">#chroot_local_user=YES</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># You may specify an explicit list of local users to chroot() to their home</span></span><br><span class="line"><span class="comment"># directory. If chroot_local_user is YES, then this list becomes a list of</span></span><br><span class="line"><span class="comment"># users to NOT chroot().</span></span><br><span class="line"><span class="comment"># (Warning! chroot&#x27;ing can be very dangerous. If using chroot, make sure that</span></span><br><span class="line"><span class="comment"># the user does not have write access to the top level directory within the</span></span><br><span class="line"><span class="comment"># chroot)</span></span><br><span class="line"><span class="comment"># chroot_local_user=YES</span></span><br><span class="line">chroot_list_enable=YES</span><br><span class="line"><span class="comment"># (default follows)</span></span><br><span class="line">chroot_list_file=/etc/vsftpd.chroot_list</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># You may activate the &quot;-R&quot; option to the builtin ls. This is disabled by</span></span><br><span class="line"><span class="comment"># default to avoid remote users being able to cause excessive I/O on large</span></span><br><span class="line"><span class="comment"># sites. However, some broken FTP clients such as &quot;ncftp&quot; and &quot;mirror&quot; assume</span></span><br><span class="line"><span class="comment"># the presence of the &quot;-R&quot; option, so there is a strong case for enabling it.</span></span><br><span class="line"><span class="comment">#ls_recurse_enable=YES</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Customization</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Some of vsftpd&#x27;s settings don&#x27;t fit the filesystem layout by</span></span><br><span class="line"><span class="comment"># default.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This option should be the name of a directory which is empty.  Also, the</span></span><br><span class="line"><span class="comment"># directory should not be writable by the ftp user. This directory is used</span></span><br><span class="line"><span class="comment"># as a secure chroot() jail at times vsftpd does not require filesystem</span></span><br><span class="line"><span class="comment"># access.</span></span><br><span class="line">secure_chroot_dir=/var/run/vsftpd/empty</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This string is the name of the PAM service vsftpd will use.</span></span><br><span class="line">pam_service_name=ftp</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This option specifies the location of the RSA certificate to use for SSL</span></span><br><span class="line"><span class="comment"># encrypted connections.</span></span><br><span class="line">rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem</span><br><span class="line">rsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.key</span><br><span class="line">ssl_enable=NO</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Uncomment this to indicate that vsftpd use a utf8 filesystem.</span></span><br><span class="line">utf8_filesystem=YES</span><br><span class="line">userlist_enable=YES</span><br><span class="line">userlist_deny=NO</span><br><span class="line">userlist_file=/etc/vsftpd.user_list</span><br><span class="line">allow_writeable_chroot=YES</span><br></pre></td></tr></table></figure>

<h3 id="3-Add-FTP-login-user"><a href="#3-Add-FTP-login-user" class="headerlink" title="3. Add FTP login user"></a>3. Add FTP login user</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># add ftp folder</span></span><br><span class="line">sudo <span class="built_in">mkdir</span> /home/ftpdir</span><br><span class="line"></span><br><span class="line"><span class="comment"># add ftp user (to bind user folder and login way)</span></span><br><span class="line">sudo useradd -d /home/ftpdir -s /bin/bash ftpuser</span><br><span class="line"></span><br><span class="line"><span class="comment"># set user password</span></span><br><span class="line">sudo passwd ftpuser</span><br><span class="line"></span><br><span class="line"><span class="comment"># set ftp folder user group</span></span><br><span class="line">sudo <span class="built_in">chown</span> ftpuser:ftpuser /home/ftpdir</span><br><span class="line"></span><br><span class="line"><span class="comment"># add ftpuser into user list</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ftpuser&quot;</span> &gt;&gt; /etc/vsftpd.user_list</span><br><span class="line"></span><br><span class="line"><span class="comment"># add ftpuser into chroot list</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ftpuser&quot;</span> &gt;&gt; /etc/vsftpd.chroot_list</span><br></pre></td></tr></table></figure>

<h3 id="4-Restart-FTP-server"><a href="#4-Restart-FTP-server" class="headerlink" title="4. Restart FTP server"></a>4. Restart FTP server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo service vsftpd restart</span><br></pre></td></tr></table></figure>

<h3 id="5-Test-if-FTP-service-available"><a href="#5-Test-if-FTP-service-available" class="headerlink" title="5. Test if FTP service available"></a>5. Test if FTP service available</h3><h4 id="Local-machine"><a href="#Local-machine" class="headerlink" title="Local machine"></a>Local machine</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ftp localhost</span><br></pre></td></tr></table></figure>

<p><img data-src="/2023/03/23/Install-FTP-Service-On-Ubuntu-20-04/1.png"></p>
<h4 id="Local-network"><a href="#Local-network" class="headerlink" title="Local network"></a>Local network</h4><p><img data-src="/2023/03/23/Install-FTP-Service-On-Ubuntu-20-04/2.png"></p>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p><a href="/(2023/03/23/Install-FTP-Service-On-Ubuntu-20-04/vsftpd.conf">vsftpd.conf download link</a></p>
<p>Thanks to the following articles guidance:</p>
<ul>
<li><a href="https://blog.csdn.net/soslinken/article/details/79304076">Ubuntu FTP Server</a></li>
</ul>
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>Env/Config</tag>
      </tags>
  </entry>
  <entry>
    <title>Install Linux By BIOS On Window Machine</title>
    <url>/2023/03/15/Install-Linux-By-BIOS-On-Window-Machine/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>Install System</li>
<li>Enter BIOS</li>
<li>Install Linux</li>
</ul>
<span id="more"></span>

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>The long term use of the virtual machine took up my macOS system resources, so I considered using the small server I purchased to install ubuntu (16+512). ğŸ¤”ï¸</p>
<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><h3 id="0-Preparation"><a href="#0-Preparation" class="headerlink" title="0. Preparation"></a>0. Preparation</h3><p>Firstly, you should have a window machine.</p>
<p>Then, you should know <strong>the way to enter your machine BIOS</strong>. Generally speaking, different computers have very different ways of turning on the BIOS. Therefore, youâ€™d better ask your computer provider or related technical support.</p>
<p>Last, you should have a USB flash drive (at least 8g).</p>
<h3 id="1-Intall-an-Ubuntu-image"><a href="#1-Intall-an-Ubuntu-image" class="headerlink" title="1. Intall an Ubuntu image"></a>1. Intall an Ubuntu image</h3><p>Click <a href="https://ubuntu.com/download/desktop">this page</a> to download the Ubuntu you want. As I want to download 20.04 LTS, I need to go to <a href="https://ubuntu.com/download/alternative-downloads">alternative page</a> to search.</p>
<p><img data-src="/2023/03/15/Install-Linux-By-BIOS-On-Window-Machine/1.png"></p>
<h3 id="2-Create-a-bootable-USB-stick"><a href="#2-Create-a-bootable-USB-stick" class="headerlink" title="2. Create a bootable USB stick"></a>2. Create a bootable USB stick</h3><p>Use <a href="https://www.balena.io/etcher/">balenaEtcher</a> to create bootable USB stick. You should select your .iso file and your USB flash drive. It may take about 5mins.</p>
<h3 id="3-Enter-your-machine-BIOS"><a href="#3-Enter-your-machine-BIOS" class="headerlink" title="3. Enter your machine BIOS"></a>3. Enter your machine BIOS</h3><p>My computer is made from KNOKA.</p>
<p><img data-src="/2023/03/15/Install-Linux-By-BIOS-On-Window-Machine/2.PNG"></p>
<p><img data-src="/2023/03/15/Install-Linux-By-BIOS-On-Window-Machine/3.PNG"></p>
<p>The way to enter its BIOS is KEEP CLICKING â€œDeleteâ€ BUTTON UNTIL BIOS SHOW UP.</p>
<p>So, what you should do now is</p>
<ol>
<li>Turn off your machine</li>
<li>Insert your bootable USB stick</li>
<li>Enter BIOS</li>
</ol>
<p>When you finish it, you should see the BIOS (1980s style of GUI ğŸ¥¸).</p>
<p><img data-src="/2023/03/15/Install-Linux-By-BIOS-On-Window-Machine/4.jpeg"></p>
<h3 id="4-Boot-from-your-USB-stick"><a href="#4-Boot-from-your-USB-stick" class="headerlink" title="4. Boot from your USB stick"></a>4. Boot from your USB stick</h3><p>Selete the USB stick and move to the highest option.</p>
<p><img data-src="/2023/03/15/Install-Linux-By-BIOS-On-Window-Machine/5.jpeg"></p>
<h3 id="5-Install-your-Ubuntu"><a href="#5-Install-your-Ubuntu" class="headerlink" title="5. Install your Ubuntu"></a>5. Install your Ubuntu</h3><p>Just do what you want</p>
<h3 id="6-Turn-on-your-Wi-Fi-adapter-optional"><a href="#6-Turn-on-your-Wi-Fi-adapter-optional" class="headerlink" title="6. Turn on your Wi-Fi adapter (optional)"></a>6. Turn on your Wi-Fi adapter (optional)</h3><p>Some times you may find that you canâ€™t use the Wi-Fi after successful installation ğŸ¤¡, this may be due to the Wi-Fi driver or system first installation. I solved it by the following command.</p>
<p>(Sadly, you need to connect to the Internet first if you want to use Wi-Fi module, like wired connection or wireless network USB)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt upgrade</span><br><span class="line"><span class="comment"># then restart your system</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if doesn&#x27;t work then run the following command</span></span><br><span class="line">sudo apt-get install bcmwl-kernel-source</span><br></pre></td></tr></table></figure>

<p>Then, restart your system.</p>
<h3 id="7-Turn-on-your-Ubuntu-Software-optional"><a href="#7-Turn-on-your-Ubuntu-Software-optional" class="headerlink" title="7. Turn on your Ubuntu Software (optional)"></a>7. Turn on your Ubuntu Software (optional)</h3><p>Some times you may find that your Ubuntu Software market is nearly empty ğŸ¤¡. I solved it by the following command.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt upgrade</span><br><span class="line">sudo systemctl reboot</span><br></pre></td></tr></table></figure>

<h3 id="8-Ture-on-Chinese-language-optional"><a href="#8-Ture-on-Chinese-language-optional" class="headerlink" title="8. Ture on Chinese language (optional)"></a>8. Ture on Chinese language (optional)</h3><ol>
<li>Setting -&gt; Language and Region -&gt; Manage Installed Languages -&gt; Install &#x2F; Remove Language -&gt; Click Chinese (Simplified), then install whatever it needed</li>
<li>Setting -&gt; Language and Region -&gt; Input Sources -&gt; â€œ+â€ &gt; Chinses &gt; Chinses (Intelligent Pinyin)</li>
</ol>
<h3 id="9-Enjoy-your-new-Ubuntu-system"><a href="#9-Enjoy-your-new-Ubuntu-system" class="headerlink" title="9. Enjoy your new Ubuntu system!"></a>9. Enjoy your new Ubuntu system!</h3><h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p>Thanks to the following articles guidance:</p>
<ul>
<li><a href="https://ubuntu.com/tutorials/install-ubuntu-desktop#1-overview">Install Ubuntu desktop</a></li>
<li><a href="https://download.csdn.net/download/weixin_38724663/14048620?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-download-2~default~CTRLIST~Paid-1-14048620-blog-107869060.pc_relevant_3mothn_strategy_and_data_recovery&depth_1-utm_source=distribute.pc_relevant_t0.none-task-download-2~default~CTRLIST~Paid-1-14048620-blog-107869060.pc_relevant_3mothn_strategy_and_data_recovery&utm_relevant_index=1">Ubuntu 20.04 wireless connection</a></li>
<li><a href="https://blog.csdn.net/eidolon_foot/article/details/112942564">Ubuntu 20.04 software market error</a></li>
<li><a href="https://bbs.huaweicloud.com/blogs/283088">Add Chinese into Ubuntu 20.04</a></li>
</ul>
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>Env/Config</tag>
        <tag>BIOS</tag>
      </tags>
  </entry>
  <entry>
    <title>Install Odoo12 On Ubuntu20.04</title>
    <url>/2023/03/08/Install-Odoo12-On-Ubuntu20-04/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>Odoo Installation</li>
</ul>
<span id="more"></span>

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>To avoid Odoo corrupting my noble macOS ğŸ¤«, Iâ€™ve decided to install Odoo on Ubuntu.</p>
<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><h3 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h3><p>Of course, you need to have Ubuntu which is <strong>20.04</strong> (X86) and it need to be able to connect the Internet.</p>
<p>The system I use is build from <a href="https://simonczy.github.io/2023/03/15/Install-Linux-By-BIOS-On-Window-Machine/">my previous post</a>.</p>
<h3 id="Install-Git"><a href="#Install-Git" class="headerlink" title="Install Git"></a>Install Git</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install -y git</span><br></pre></td></tr></table></figure>

<h3 id="Install-PostgreSQL"><a href="#Install-PostgreSQL" class="headerlink" title="Install PostgreSQL"></a>Install PostgreSQL</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># the version I downloaded is postgresql12</span></span><br><span class="line">sudo apt-get install -y postgresql</span><br><span class="line"></span><br><span class="line"><span class="comment"># we can use the following command to check postgresql version</span></span><br><span class="line">psql --version</span><br></pre></td></tr></table></figure>

<p><img data-src="/2023/03/08/Install-Odoo12-On-Ubuntu20-04/1.png"></p>
<h3 id="Create-PostgreSQL-user-and-database"><a href="#Create-PostgreSQL-user-and-database" class="headerlink" title="Create PostgreSQL user and database"></a>Create PostgreSQL user and database</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># start postgresql service</span></span><br><span class="line">sudo service postgresql start</span><br><span class="line"></span><br><span class="line"><span class="comment"># create postgresql user and database</span></span><br><span class="line">sudo -u postgres -i</span><br><span class="line"></span><br><span class="line"><span class="comment"># type your password and remember it</span></span><br><span class="line">createuser -P --superuser odoo</span><br><span class="line"></span><br><span class="line"><span class="comment"># may cause error</span></span><br><span class="line">createdb odoo -U odoo -W</span><br></pre></td></tr></table></figure>

<p>You may meet some error when you run the last command</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">FATAL:  Peer authentication failed <span class="keyword">for</span> user <span class="string">&quot;odoo&quot;</span></span><br></pre></td></tr></table></figure>

<p>If so, you should change your pg_hba.conf configuration</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/postgresql/12/main/pg_hba.conf</span><br></pre></td></tr></table></figure>

<p><img data-src="/2023/03/08/Install-Odoo12-On-Ubuntu20-04/2.png"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># then restare postgresql service</span></span><br><span class="line">sudo service postgresql restart</span><br><span class="line"></span><br><span class="line"><span class="comment"># complete commands that were not fully executed before</span></span><br><span class="line">sudo -u postgres -i</span><br><span class="line">createdb odoo -U odoo -W</span><br></pre></td></tr></table></figure>

<h3 id="Install-curl"><a href="#Install-curl" class="headerlink" title="Install curl"></a>Install curl</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install curl</span><br></pre></td></tr></table></figure>

<h3 id="Install-node-js-and-less"><a href="#Install-node-js-and-less" class="headerlink" title="Install node.js and less"></a>Install node.js and less</h3><p>Install nodejs version manager </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -L http://git.io/n-install | bash  </span><br></pre></td></tr></table></figure>

<p><strong>Reopen</strong> your terminal and check current version </p>
<p><img data-src="/2023/03/08/Install-Odoo12-On-Ubuntu20-04/3.png"></p>
<p>Install less</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -g less</span><br></pre></td></tr></table></figure>

<h3 id="Clone-Odoo-source-code"><a href="#Clone-Odoo-source-code" class="headerlink" title="Clone Odoo source code"></a>Clone Odoo source code</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/odoo/odoo.git -b 12.0 --depth=1 ./odoo12</span><br></pre></td></tr></table></figure>

<h3 id="Install-specific-python-version-optional"><a href="#Install-specific-python-version-optional" class="headerlink" title="Install specific python version (optional)"></a>Install specific python version (optional)</h3><p><strong>You could</strong></p>
<ol>
<li><u>Install pyenv to manage python version</u></li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># install pyenv</span></span><br><span class="line">curl -L https://raw.githubusercontent.com/yyuu/pyenv-installer/master/bin/pyenv-installer | bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># install python dependencies (optional, mostly depend on your perrsonal situation)</span></span><br><span class="line">sudo apt-get update &amp;&amp; apt-get install -y default-libmysqlclient-dev build-essential git gcc make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev libffi-dev liblzma-dev libldap2-dev libsasl2-dev</span><br><span class="line"></span><br><span class="line"><span class="comment"># install python 3.8</span></span><br><span class="line">pyenv install 3.8 &amp;&amp; pyenv global 3.8</span><br></pre></td></tr></table></figure>

<p><strong>Or</strong></p>
<ol start="2">
<li><u>Use original python3 from ubunutu</u></li>
</ol>
<p>Here I use original python 3.8 from ubunutu (which not include pip3)</p>
<h3 id="Install-odoo-dependencies-by-pip3"><a href="#Install-odoo-dependencies-by-pip3" class="headerlink" title="Install odoo dependencies by pip3"></a>Install odoo dependencies by pip3</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># install pip3</span></span><br><span class="line">sudo apt-get install python3-pip</span><br><span class="line"></span><br><span class="line"><span class="comment"># enter odoo folder (which is odoo12 as I wrote above)</span></span><br><span class="line"><span class="built_in">cd</span> odoo12</span><br><span class="line"></span><br><span class="line"><span class="comment"># install odoo dependencies provided by odoo</span></span><br><span class="line">pip3 install -r requirements.txt</span><br></pre></td></tr></table></figure>

<p>You may meet some difficulties when you want to install the following package:</p>
<ul>
<li>lxml: install it without specific version.</li>
</ul>
<p>You need to modify requirements.txt</p>
<p><img data-src="/2023/03/08/Install-Odoo12-On-Ubuntu20-04/4.png"></p>
<ul>
<li>Pillow: install it without specific version</li>
</ul>
<p>You need to modify requirements.txt</p>
<p><img data-src="/2023/03/08/Install-Odoo12-On-Ubuntu20-04/5.png"></p>
<ul>
<li>psycopg2: lack of specific library</li>
</ul>
<p>You need to install some package. You donâ€™t need to modify requirements.txt.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install libpq-dev</span><br></pre></td></tr></table></figure>

<ul>
<li>pyldap: lack of specific library</li>
</ul>
<p>You need to install some package. You donâ€™t need to modify requirements.txt.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># If you follow the approach &quot;Install pyenv to manage python version&quot; in this article, you may not meet this error because you already install these libraries before</span></span><br><span class="line">sudo apt-get install libldap2-dev libsasl2-dev</span><br></pre></td></tr></table></figure>

<h3 id="Start-odoo"><a href="#Start-odoo" class="headerlink" title="Start odoo"></a>Start odoo</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># enter odoo folder (which is odoo12 as I wrote above)</span></span><br><span class="line"><span class="built_in">cd</span> odoo12</span><br><span class="line"></span><br><span class="line"><span class="comment"># install odoo dependencies provided by odoo</span></span><br><span class="line">./odoo-bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># press ctrl+c to quit</span></span><br></pre></td></tr></table></figure>

<p><img data-src="/2023/03/08/Install-Odoo12-On-Ubuntu20-04/7.png"></p>
<p>Then turn on your browser and go to this url -&gt; localhost:8069, and you may find some error now.</p>
<p>Front end:</p>
<p><img data-src="/2023/03/08/Install-Odoo12-On-Ubuntu20-04/6.png"></p>
<p>Back end:</p>
<p><img data-src="/2023/03/08/Install-Odoo12-On-Ubuntu20-04/9.png"></p>
<p>This is because you have not configure your odoo.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># run this command and then exit it </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># this command mean save the configuration in the user folder</span></span><br><span class="line">./odoo-bin -s</span><br></pre></td></tr></table></figure>

<p>You can see there is odoo configuration now.</p>
<p><img data-src="/2023/03/08/Install-Odoo12-On-Ubuntu20-04/8.png"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># modify your .odoorc configuration file</span></span><br><span class="line">vim /home/simon/.odoorc</span><br></pre></td></tr></table></figure>

<p>You should update these three configuration: â€œdb_nameâ€, â€œdb_userâ€, â€œdb_passwordâ€. </p>
<p><img data-src="/2023/03/08/Install-Odoo12-On-Ubuntu20-04/14.png"></p>
<p>Start the odoo again, and it show the error message like these.</p>
<p><img data-src="/2023/03/08/Install-Odoo12-On-Ubuntu20-04/12.png"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># well let&#x27;s initialize our database as there is nothing in the database</span></span><br><span class="line">./odoo-bin -i base</span><br></pre></td></tr></table></figure>

<p>And this time everything is fine.</p>
<p><img data-src="/2023/03/08/Install-Odoo12-On-Ubuntu20-04/13.png"></p>
<h3 id="Enjoy-your-odoo-12"><a href="#Enjoy-your-odoo-12" class="headerlink" title="Enjoy your odoo 12"></a>Enjoy your odoo 12</h3><p>If you want to customize you odoo addon, maybe you can check this link.</p>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p><a href="https://odoobook.tnk-studio.eu.org/Chapter-2/Odoo-Development-Environment.html">Build up your odoo environment</a></p>
]]></content>
      <categories>
        <category>Make</category>
        <category>Odoo</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Odoo</tag>
        <tag>Env/Config</tag>
      </tags>
  </entry>
  <entry>
    <title>Leetcode-Q1-Cpp</title>
    <url>/2023/08/09/Leetcode-Q1-Cpp/</url>
    <content><![CDATA[<p>ğŸ’¡ è®°å½•åˆ·é¢˜è¿‡ç¨‹ Leetcode ç¬¬1é¢˜ c++</p>
<span id="more"></span>

<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a><a href="https://leetcode.cn/problems/two-sum/">é—®é¢˜æè¿°</a></h2><p><img data-src="/2023/08/09/Leetcode-Q1-Cpp/1.png"></p>
<h2 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h2><p>é¦–å…ˆæš´åŠ›æ±‚è§£ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯n^2ã€‚</p>
<p>ç„¶åå¼€å§‹æ€è€ƒä¼˜åŒ–è¿‡ç¨‹ï¼Œè¿™æ˜¯ä¸ªæœç´¢ä»»åŠ¡ï¼ŒåŸå§‹çš„æœç´¢å¤æ‚åº¦ä¸ºnã€‚æˆ‘ä»¬å¯ä»¥æ”¹ç”¨å“ˆå¸Œè¡¨ï¼Œä½¿æœç´¢å¤æ‚åº¦é™ä½åˆ°O(1)ã€‚</p>
<h2 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h2><p>O(n)</p>
<h2 id="ä»·å€¼"><a href="#ä»·å€¼" class="headerlink" title="ä»·å€¼"></a><strong>ä»·å€¼</strong></h2><ul>
<li>ç†Ÿæ‚‰unorder_mapçš„ä½¿ç”¨</li>
<li>æ„å»ºæŸ¥æ‰¾ä¸å“ˆå¸Œçš„å…³è”ï¼Œæ„å»ºæŸ¥æ‰¾ä¸ºO(1)ä¸å“ˆå¸Œçš„å…³è”</li>
</ul>
<h2 id="å¯¹åº”çš„c-ä»£ç å¦‚ä¸‹"><a href="#å¯¹åº”çš„c-ä»£ç å¦‚ä¸‹" class="headerlink" title="å¯¹åº”çš„c++ä»£ç å¦‚ä¸‹"></a>å¯¹åº”çš„c++ä»£ç å¦‚ä¸‹</h2>]]></content>
      <categories>
        <category>Draft</category>
      </categories>
      <tags>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title>Leetcode Q64 Cpp</title>
    <url>/2023/08/25/Leetcode-Q64-Cpp/</url>
    <content><![CDATA[<p>ğŸ’¡ è®°å½•åˆ·é¢˜è¿‡ç¨‹ Leetcode ç¬¬64é¢˜ c++</p>
<span id="more"></span>

<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a><a href="https://leetcode.cn/problems/minimum-path-sum/">é—®é¢˜æè¿°</a></h2><p><img data-src="/2023/08/25/Leetcode-Q64-Cpp/1.png"></p>
<h2 id="é”™è¯¯å›é¡¾"><a href="#é”™è¯¯å›é¡¾" class="headerlink" title="é”™è¯¯å›é¡¾"></a>é”™è¯¯å›é¡¾</h2><p>å½“æ—¶æˆ‘ç¬¬ä¸€ååº”å…¶å®æ²¡æƒ³åˆ°dpï¼Œåè€Œæ˜¯å¾€dfs+è´ªå¿ƒçš„æ–¹å‘ä¸Šå»æƒ³ã€‚</p>
<p>ä¹Ÿè¯´ä¸å‡†ä¸ºå•¥è¿™é‡Œè¦ç”¨dpï¼Œä½†æ˜¯æ€ç»´ä¸Šæ¥å—dpä¹‹åï¼Œå°±è§‰å¾—è¿™é“é¢˜ç›®ç”¨dpå†™å°±çœŸçš„å¾ˆä¼˜é›…ï¼Œä¹Ÿå°±æƒ³ä¸åˆ°åˆ«çš„æ€è·¯äº†</p>
<h2 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h2><p>å¯¹äºæ¯ä¸ªç‚¹è€Œè¨€ï¼Œå®ƒåªèƒ½é€šè¿‡<code>ä¸Šè¾¹</code>æˆ–<code>å·¦è¾¹</code>çš„ç‚¹æŠµè¾¾ã€‚å› æ­¤ï¼Œå¦‚æœç°åœ¨è¦æ±‚æŠµè¾¾æŸä¸ªç‚¹çš„<code>æœ€çŸ­è·¯å¾„é•¿åº¦</code>ï¼Œåˆ™æ˜¯<code>ä¸Šè¾¹</code>æˆ–è€…<code>å·¦è¾¹</code>çš„<code>è¾ƒå°å€¼</code>ï¼Œä¸æœ¬èº«è·¯å¾„çš„é•¿åº¦ä¹‹å’Œã€‚æ»¡è¶³æœ€ä¼˜å­ç»“æ„ã€‚</p>
<p>åœ¨æ­¤DPä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°çš„æ˜¯å’ŒåŸäºŒç»´è¡¨ä¸€æ ·å¤§å°çš„äºŒç»´è¡¨æ¥å­˜å‚¨æ•°æ®ã€‚</p>
<h2 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h2><p>å…¨éƒ¨ç‚¹éƒ½éå†ä¸”åªéå†ä¸€éï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦æ˜¯O(m*n)</p>
<h2 id="ä»·å€¼"><a href="#ä»·å€¼" class="headerlink" title="ä»·å€¼"></a>ä»·å€¼</h2><ul>
<li>ç†Ÿæ‚‰äºŒç»´vectorçš„ä½¿ç”¨</li>
<li>ä½œä¸ºdpçš„å…¥é—¨é¢˜ç›®ï¼Œæ„Ÿå—äº†dpçš„é­…åŠ›ã€‚</li>
</ul>
<h2 id="å¯¹åº”çš„c-ä»£ç å¦‚ä¸‹"><a href="#å¯¹åº”çš„c-ä»£ç å¦‚ä¸‹" class="headerlink" title="å¯¹åº”çš„c++ä»£ç å¦‚ä¸‹"></a>å¯¹åº”çš„c++ä»£ç å¦‚ä¸‹</h2>]]></content>
      <categories>
        <category>Draft</category>
      </categories>
      <tags>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux Command</title>
    <url>/2023/03/07/Linux-Command/</url>
    <content><![CDATA[<p>Frequently used linux commands</p>
<span id="more"></span>

<h2 id="Linux-Quick-Start"><a href="#Linux-Quick-Start" class="headerlink" title="Linux Quick Start"></a>Linux Quick Start</h2><h3 id="grep-file-ignoring-case"><a href="#grep-file-ignoring-case" class="headerlink" title="grep file ignoring case"></a>grep file ignoring case</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ls</span> -la | grep -i <span class="string">&quot;pypdf2&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="change-user-password"><a href="#change-user-password" class="headerlink" title="change user password"></a>change user password</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo passwd username</span><br></pre></td></tr></table></figure>

<h3 id="remove-package"><a href="#remove-package" class="headerlink" title="remove package"></a>remove package</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get purge PackageName</span><br><span class="line"></span><br><span class="line"><span class="comment"># if your ubuntu have GUI, you can delete the gui by the following command, and reboot</span></span><br><span class="line">sudo apt-get purge lightdm</span><br><span class="line"></span><br><span class="line"><span class="comment"># if you want to recover your GUI, you can install it and reboot</span></span><br><span class="line">sudo apt-get install lightdm</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>

<h3 id="ftp-common-command"><a href="#ftp-common-command" class="headerlink" title="ftp common command"></a>ftp common command</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># check ftp service status</span></span><br><span class="line">service vsftpd status</span><br><span class="line"></span><br><span class="line"><span class="comment"># check ftp process</span></span><br><span class="line">ps ef | grep -i ftp</span><br><span class="line"></span><br><span class="line"><span class="comment"># display ftp auto-on process</span></span><br><span class="line">systemctl list-unit-files | grep ftp</span><br></pre></td></tr></table></figure>

<h3 id="system-service"><a href="#system-service" class="headerlink" title="system service"></a>system service</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># start ftp service</span></span><br><span class="line">systemctl start vsftpd</span><br><span class="line"></span><br><span class="line"><span class="comment"># stop ftp service</span></span><br><span class="line">systemctl stop vsftpd</span><br><span class="line"></span><br><span class="line"><span class="comment"># set ftp auto-on on</span></span><br><span class="line">systemctl <span class="built_in">enable</span> vsftpd</span><br><span class="line"></span><br><span class="line"><span class="comment"># set ftp auto-on off</span></span><br><span class="line">systemctl <span class="built_in">disable</span> vsftpd</span><br></pre></td></tr></table></figure>

<h3 id="display-folder-size"><a href="#display-folder-size" class="headerlink" title="display folder size"></a>display folder size</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">du</span></span><br></pre></td></tr></table></figure>

<h3 id="compressed-folder"><a href="#compressed-folder" class="headerlink" title="compressed folder"></a>compressed folder</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># SML_P1.tar.gz is the name of target compressed file</span></span><br><span class="line"><span class="comment"># SML_P1/ is the folder you want to compress</span></span><br><span class="line">tar -zcvf SML_P1.tar.gz SML_P1/</span><br></pre></td></tr></table></figure>

<h3 id="login-other-machine-by-ssh"><a href="#login-other-machine-by-ssh" class="headerlink" title="login other machine by ssh"></a>login other machine by ssh</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># let us set ip as 192.168.1.1, port as 12345, user as root</span></span><br><span class="line">ssh root@192.168.1.1 -p 12345</span><br></pre></td></tr></table></figure>

<h3 id="ssh-other-machine-and-run-local-shell-script"><a href="#ssh-other-machine-and-run-local-shell-script" class="headerlink" title="ssh other machine and run local shell script"></a>ssh other machine and run local shell script</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># let us set ip as 192.168.1.1, port as 12345, user as root</span></span><br><span class="line"><span class="comment"># shell script as base.sh</span></span><br><span class="line">ssh -T root@192.168.1.1 -p 12345 &lt; bash.sh</span><br></pre></td></tr></table></figure>

<h3 id="copy-file-to-other-machine"><a href="#copy-file-to-other-machine" class="headerlink" title="copy file to other machine"></a>copy file to other machine</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># let us set ip as 192.168.1.1, port as 12345, user as root</span></span><br><span class="line"><span class="comment"># relative local file path ./FinalCode.txt</span></span><br><span class="line">scp -P 12345 ./FinalCode.txt root@192.168.1.1:~/Documents</span><br></pre></td></tr></table></figure>

<h3 id="copy-folder-to-other-machine"><a href="#copy-folder-to-other-machine" class="headerlink" title="copy folder to other machine"></a>copy folder to other machine</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># let us set ip as 192.168.1.1, port as 12345, user as root</span></span><br><span class="line"><span class="comment"># relative local folder path ./FinalCode/</span></span><br><span class="line">scp -P 12345 -r ./FinalCode/ root@192.168.1.1:~/Documents</span><br></pre></td></tr></table></figure>

<p><a href="https://blog.csdn.net/qq_16736531/article/details/80663023">Common FTP Command</a></p>
<p><a href="https://blog.csdn.net/qq_41985134/article/details/121182623">Ubuntu Auto-On Service</a></p>
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>Quick Check</tag>
      </tags>
  </entry>
  <entry>
    <title>Mac SSH Amazon Using Pem</title>
    <url>/2023/03/09/Mac-SSH-Amazon-Using-Pem/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>Use .pem file to ssh</li>
</ul>
<span id="more"></span>

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>The title has said enough</p>
<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><h3 id="Put-pem-file-in-folder-XXX"><a href="#Put-pem-file-in-folder-XXX" class="headerlink" title="Put .pem file in folder XXX"></a>Put .pem file in folder XXX</h3><h3 id="Open-terminal-in-folder-XXX"><a href="#Open-terminal-in-folder-XXX" class="headerlink" title="Open terminal in folder XXX"></a>Open terminal in folder XXX</h3><h3 id="Run-SSH-command-to-connect"><a href="#Run-SSH-command-to-connect" class="headerlink" title="Run SSH command to connect"></a>Run SSH command to connect</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh -i <span class="string">&quot;key.pem&quot;</span> username@ipaddress</span><br></pre></td></tr></table></figure>

<h3 id="Permission-error-probably"><a href="#Permission-error-probably" class="headerlink" title="Permission error (probably)"></a>Permission error (probably)</h3><p><img data-src="/2023/03/09/Mac-SSH-Amazon-Using-Pem/1.png"></p>
<p>What you need to do is to set up a suitable file permission (0600).</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 0600 key.pem</span><br></pre></td></tr></table></figure>

<p>Then run the command given in step 3. And this time there is no error message.</p>
<h3 id="If-you-want-to-add-pem-file-into-your-systemâ€¦"><a href="#If-you-want-to-add-pem-file-into-your-systemâ€¦" class="headerlink" title="If you want to add .pem file into your systemâ€¦"></a>If you want to add .pem file into your systemâ€¦</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-add -K key.pem</span><br><span class="line">ssh username@ipaddress</span><br><span class="line"></span><br><span class="line"><span class="comment"># however, in this way you need to do it again when you turn off your machine</span></span><br></pre></td></tr></table></figure>

<p>So, are there any ways that can elegantly solve this problem all at once?</p>
<p>Sure! Check <a href="https://simonczy.github.io/2023/03/27/Turn-On-SSH-Service-On-Ubuntu/#Add-private-into-system-in-B">this</a>!</p>
]]></content>
      <tags>
        <tag>MacOS</tag>
        <tag>Env/Config</tag>
        <tag>SSH</tag>
      </tags>
  </entry>
  <entry>
    <title>Master Project: Unity VR Application</title>
    <url>/2023/10/13/Master-Project-Unity-VR-Application/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>Pip Command</title>
    <url>/2023/03/07/Pip-Command/</url>
    <content><![CDATA[<p>Frequently used pip commands</p>
<span id="more"></span>

<h2 id="Pip-Quick-Start"><a href="#Pip-Quick-Start" class="headerlink" title="Pip Quick Start"></a>Pip Quick Start</h2><p>Take pip3 as an example.</p>
<h3 id="List-installed-package"><a href="#List-installed-package" class="headerlink" title="List installed package"></a>List installed package</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip3 list</span><br></pre></td></tr></table></figure>

<h3 id="Display-the-details-of-a-specific-package"><a href="#Display-the-details-of-a-specific-package" class="headerlink" title="Display the details of a specific package"></a>Display the details of a specific package</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Assume the package &quot;pdf2image&quot; has been installed</span></span><br><span class="line">pip3 show pdf2image</span><br></pre></td></tr></table></figure>

<h3 id="Create-a-requirement-file-by-using-current-installed-packages"><a href="#Create-a-requirement-file-by-using-current-installed-packages" class="headerlink" title="Create a requirement file by using current installed packages"></a>Create a requirement file by using current installed packages</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip3 freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure>

<h3 id="Install-packages-by-using-the-requirement-file"><a href="#Install-packages-by-using-the-requirement-file" class="headerlink" title="Install packages by using the requirement file"></a>Install packages by using the requirement file</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip3 install -r requirements.txt</span><br></pre></td></tr></table></figure>

<h3 id="Install-specific-version-packages"><a href="#Install-specific-version-packages" class="headerlink" title="Install specific version packages"></a>Install specific version packages</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip3 install lxml=4.9.2</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>Quick Check</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Occational Network Disconnection Error On Ubuntu 20.04</title>
    <url>/2023/03/23/Occational-Network-Disconnection-Error-On-Ubuntu-20-04/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>Network Error</li>
<li>Ubuntu Error</li>
</ul>
<span id="more"></span>

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>When I installed my Ubuntu 20.04, it may meet some error because it could not use Wi-Fi module. Even <a href="https://simonczy.github.io/2023/03/15/Install-Linux-By-BIOS-On-Window-Machine/#Turn-on-your-Wi-Fi-adapter-optional">I fixed it</a> at that time, my computer <strong>sometimes can not connect to Internet</strong> now.</p>
<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><h3 id="Reset-the-network-service"><a href="#Reset-the-network-service" class="headerlink" title="Reset the network service"></a>Reset the network service</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo service network-manager stop</span><br><span class="line">sudo <span class="built_in">rm</span> /var/lib/NetworkManager/NetworkManager.state</span><br><span class="line">sudo service network-manager start</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>Env/Config</tag>
      </tags>
  </entry>
  <entry>
    <title>Python Common Code</title>
    <url>/2023/03/26/Python-Common-Code/</url>
    <content><![CDATA[<p>Frequently used python code</p>
<span id="more"></span>

<h2 id="Python-Quick-Start"><a href="#Python-Quick-Start" class="headerlink" title="Python Quick Start"></a>Python Quick Start</h2><h3 id="Ternary-operator"><a href="#Ternary-operator" class="headerlink" title="Ternary operator"></a>Ternary operator</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">p_max_count = <span class="built_in">len</span>(i[<span class="string">&#x27;prompt&#x27;</span>]) <span class="keyword">if</span> p_max_count &lt; <span class="built_in">len</span>(i[<span class="string">&#x27;prompt&#x27;</span>]) <span class="keyword">else</span> p_max_count</span><br></pre></td></tr></table></figure>

<h3 id="Calculate-time-spent"><a href="#Calculate-time-spent" class="headerlink" title="Calculate time spent"></a>Calculate time spent</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">start_time = datetime.datetime.now()</span><br><span class="line"></span><br><span class="line"><span class="comment"># target function</span></span><br><span class="line"></span><br><span class="line">end_time = datetime.datetime.now()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;it takes &#123;&#125; seconds&quot;</span>.<span class="built_in">format</span>((end_time - start_time).seconds))</span><br></pre></td></tr></table></figure>

<h3 id="Random"><a href="#Random" class="headerlink" title="Random"></a>Random</h3><h4 id="Int"><a href="#Int" class="headerlink" title="Int"></a>Int</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="comment"># generate integer from 1 to 20</span></span><br><span class="line"><span class="built_in">print</span> (random.randint(<span class="number">1</span>, <span class="number">20</span>))</span><br></pre></td></tr></table></figure>

<h3 id="Sort"><a href="#Sort" class="headerlink" title="Sort"></a>Sort</h3><h4 id="Sort-2D-list"><a href="#Sort-2D-list" class="headerlink" title="Sort 2D list"></a>Sort 2D list</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">employees = [[<span class="number">10</span>, <span class="string">&#x27;Jack&#x27;</span>, <span class="number">1997</span>], [<span class="number">3</span>, <span class="string">&#x27;Jack&#x27;</span>, <span class="number">1998</span>], [<span class="number">8</span>, <span class="string">&#x27;Smith&#x27;</span>, <span class="number">2001</span>]]</span><br><span class="line"></span><br><span class="line">sorted_e_a = <span class="built_in">sorted</span>(employees, key=(<span class="keyword">lambda</span> x:x[<span class="number">0</span>]))</span><br><span class="line">sorted_e_b = <span class="built_in">sorted</span>(employees, key=(<span class="keyword">lambda</span> x:[x[<span class="number">2</span>], x[<span class="number">1</span>]]), reverse=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(employees)</span><br><span class="line"><span class="built_in">print</span>(sorted_e_a)</span><br><span class="line"><span class="built_in">print</span>(sorted_e_b)</span><br><span class="line"></span><br><span class="line"><span class="comment"># output</span></span><br><span class="line"><span class="comment"># [[10, &#x27;Jack&#x27;, 1997], [3, &#x27;Jack&#x27;, 1998], [8, &#x27;Smith&#x27;, 2001]]</span></span><br><span class="line"><span class="comment"># [[3, &#x27;Jack&#x27;, 1998], [8, &#x27;Smith&#x27;, 2001], [10, &#x27;Jack&#x27;, 1997]]</span></span><br><span class="line"><span class="comment"># [[8, &#x27;Smith&#x27;, 2001], [3, &#x27;Jack&#x27;, 1998], [10, &#x27;Jack&#x27;, 1997]]</span></span><br></pre></td></tr></table></figure>

<h4 id="Sort-dictionary"><a href="#Sort-dictionary" class="headerlink" title="Sort dictionary"></a>Sort dictionary</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dic = &#123;<span class="number">2</span>: <span class="number">56</span>, <span class="number">1</span>: <span class="number">2</span>, <span class="number">7</span>: <span class="number">12</span>, <span class="number">4</span>: <span class="number">24</span>, <span class="number">5</span>: <span class="number">12</span>, <span class="number">3</span>: <span class="number">323</span>&#125;</span><br><span class="line">sorted_dict_1 = <span class="built_in">sorted</span>(dic.items(), key = <span class="keyword">lambda</span> kv:(kv[<span class="number">0</span>]))</span><br><span class="line">sorted_dict_2 = <span class="built_in">sorted</span>(dic.items(), key = <span class="keyword">lambda</span> kv:(kv[<span class="number">1</span>]))</span><br><span class="line">sorted_dict_3 = <span class="built_in">sorted</span>(dic.items(), key = <span class="keyword">lambda</span> kv:(kv[<span class="number">1</span>], kv[<span class="number">0</span>]))</span><br><span class="line"><span class="built_in">print</span>(sorted_dict_1)</span><br><span class="line"><span class="built_in">print</span>(sorted_dict_2)</span><br><span class="line"><span class="built_in">print</span>(sorted_dict_3)</span><br><span class="line"></span><br><span class="line"><span class="comment"># [(1, 2), (2, 56), (3, 323), (4, 24), (5, 12), (7, 12)]</span></span><br><span class="line"><span class="comment"># [(1, 2), (7, 12), (5, 12), (4, 24), (2, 56), (3, 323)]</span></span><br><span class="line"><span class="comment"># [(1, 2), (5, 12), (7, 12), (4, 24), (2, 56), (3, 323)]</span></span><br></pre></td></tr></table></figure>

<h4 id="Reverse"><a href="#Reverse" class="headerlink" title="Reverse"></a>Reverse</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="string">&quot;54321&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a[::-<span class="number">1</span>])</span><br><span class="line"><span class="comment"># 12345</span></span><br></pre></td></tr></table></figure>

<h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><h4 id="List-generator"><a href="#List-generator" class="headerlink" title="List generator"></a>List generator</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">b = [i+<span class="number">1</span> <span class="keyword">for</span> i <span class="keyword">in</span> a]</span><br><span class="line"><span class="comment"># b = [2, 3, 4, 5, 6, 7]</span></span><br><span class="line"></span><br><span class="line">c = [i+<span class="number">1</span> <span class="keyword">for</span> i <span class="keyword">in</span> a <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span>]</span><br><span class="line"><span class="comment"># c = [3, 5, 7]</span></span><br></pre></td></tr></table></figure>

<h3 id="For"><a href="#For" class="headerlink" title="For"></a>For</h3><h4 id="For-Else"><a href="#For-Else" class="headerlink" title="For-Else"></a>For-Else</h4><p>The only way that the code would run to â€œelseâ€, is that there is no break in the for-loop.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> container:</span><br><span class="line">    <span class="keyword">if</span> search_something(item):</span><br><span class="line">        <span class="comment"># Found it!</span></span><br><span class="line">        process(item)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="comment"># Didn&#x27;t find anything..</span></span><br><span class="line">    not_found_in_container()</span><br></pre></td></tr></table></figure>

<h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><h4 id="Case"><a href="#Case" class="headerlink" title="Case"></a>Case</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="string">&quot;String&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a.lower())</span><br><span class="line"><span class="built_in">print</span>(a.upper())</span><br><span class="line"></span><br><span class="line"><span class="comment"># string</span></span><br><span class="line"><span class="comment"># STRING</span></span><br></pre></td></tr></table></figure>

<h4 id="Component"><a href="#Component" class="headerlink" title="Component"></a>Component</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="string">&quot;123asJIjg&quot;</span></span><br><span class="line">b = <span class="string">&quot;123&quot;</span></span><br><span class="line">c = <span class="string">&quot;asJIjg&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a.isdigit(), a.isalpha(), a.isalnum())</span><br><span class="line"><span class="built_in">print</span>(b.isdigit(), b.isalpha(), b.isalnum())</span><br><span class="line"><span class="built_in">print</span>(c.isdigit(), c.isalpha(), c.isalnum())</span><br><span class="line"></span><br><span class="line"><span class="comment"># False False True</span></span><br><span class="line"><span class="comment"># True False True</span></span><br><span class="line"><span class="comment"># False True True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># isdigit(): if totally made of number</span></span><br><span class="line"><span class="comment"># isalpha(): if totally made of alpha</span></span><br><span class="line"><span class="comment"># isalnum(): if totally made of number or alpha</span></span><br></pre></td></tr></table></figure>

<h3 id="Initilization"><a href="#Initilization" class="headerlink" title="Initilization"></a>Initilization</h3><h4 id="Dictionary"><a href="#Dictionary" class="headerlink" title="Dictionary"></a>Dictionary</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = <span class="built_in">dict</span>.fromkeys([<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>], <span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(x)        </span><br><span class="line"><span class="comment"># &#123;&#x27;A&#x27;: 0, &#x27;B&#x27;: 0, &#x27;C&#x27;: 0&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="Simplify"><a href="#Simplify" class="headerlink" title="Simplify"></a>Simplify</h3><h4 id="Dictionary-Count"><a href="#Dictionary-Count" class="headerlink" title="Dictionary Count"></a>Dictionary Count</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> char <span class="keyword">not</span> <span class="keyword">in</span> unigram_counts:</span><br><span class="line">    unigram_counts[char] = <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    unigram_counts[char] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># can be replace by    </span></span><br><span class="line">unigram_counts[char] = unigram_counts.get(char, <span class="number">0</span>) + <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="Visualization"><a href="#Visualization" class="headerlink" title="Visualization"></a>Visualization</h3><h4 id="Matplotlib"><a href="#Matplotlib" class="headerlink" title="Matplotlib"></a>Matplotlib</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br></pre></td></tr></table></figure>

<h5 id="Draw-by-one-list"><a href="#Draw-by-one-list" class="headerlink" title="Draw by one list"></a>Draw by one list</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">a = [<span class="number">17</span>, <span class="number">15</span>, <span class="number">1479</span>, <span class="number">76</span>, <span class="number">1485</span>, <span class="number">68</span>, <span class="number">1493</span>, <span class="number">10</span>, <span class="number">1500</span>, <span class="number">1492</span>, <span class="number">1478</span>, <span class="number">86</span>, <span class="number">1515</span>, <span class="number">1518</span>, <span class="number">1520</span>, <span class="number">1502</span>, <span class="number">1519</span>, <span class="number">1497</span>, <span class="number">1525</span>, <span class="number">87</span>]</span><br><span class="line">plt.figure(<span class="number">1</span>)</span><br><span class="line">plt.plot(a)</span><br></pre></td></tr></table></figure>

<p><img data-src="/2023/03/26/Python/Python-Common-Code/1.png"></p>
<h5 id="Draw-by-two-list"><a href="#Draw-by-two-list" class="headerlink" title="Draw by two list"></a>Draw by two list</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">a = [<span class="number">17</span>, <span class="number">15</span>, <span class="number">1479</span>, <span class="number">76</span>, <span class="number">1485</span>, <span class="number">68</span>, <span class="number">1493</span>, <span class="number">10</span>, <span class="number">1500</span>, <span class="number">1492</span>, <span class="number">1478</span>, <span class="number">86</span>, <span class="number">1515</span>, <span class="number">1518</span>, <span class="number">1520</span>, <span class="number">1502</span>, <span class="number">1519</span>, <span class="number">1497</span>, <span class="number">1525</span>, <span class="number">87</span>]</span><br><span class="line">b = a[::-<span class="number">1</span>]</span><br><span class="line">plt.figure(<span class="number">1</span>)</span><br><span class="line">plt.plot(a, color=<span class="string">&quot;r&quot;</span>, marker=<span class="string">&quot;*&quot;</span>)</span><br><span class="line">plt.plot(b, color=<span class="string">&quot;b&quot;</span>, marker=<span class="string">&quot;o&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><img data-src="/2023/03/26/Python/Python-Common-Code/2.png"></p>
]]></content>
      <tags>
        <tag>Quick Check</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python Public Util Code</title>
    <url>/2023/05/21/Python-Public-Util-Code/</url>
    <content><![CDATA[<p>Personal frequently used public python function code</p>
<span id="more"></span>

<h3 id="Time"><a href="#Time" class="headerlink" title="Time"></a>Time</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_day_time</span>():</span><br><span class="line">    <span class="keyword">return</span> time.strftime(<span class="string">&quot;%Y-%m-%d&quot;</span>, time.localtime())</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_detail_time</span>():</span><br><span class="line">    <span class="keyword">return</span> time.strftime(<span class="string">&quot;%Y-%m-%d_%H:%M:%S&quot;</span>, time.localtime())</span><br></pre></td></tr></table></figure>

<h3 id="Log"><a href="#Log" class="headerlink" title="Log"></a>Log</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_detail_time</span>():</span><br><span class="line">    <span class="keyword">return</span> time.strftime(<span class="string">&quot;%Y-%m-%d_%H:%M:%S&quot;</span>, time.localtime())</span><br><span class="line"></span><br><span class="line">log_level_dict = &#123;</span><br><span class="line">    <span class="string">&#x27;DEBUG&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&#x27;INFO&#x27;</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">&#x27;WARNING&#x27;</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="string">&#x27;ERROR&#x27;</span>: <span class="number">4</span>,</span><br><span class="line">    <span class="string">&#x27;CRITICAL&#x27;</span>: <span class="number">5</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">print_log</span>(<span class="params">log_info, log_level=<span class="string">&#x27;INFO&#x27;</span></span>):</span><br><span class="line">    os.makedirs(<span class="string">&#x27;./log&#x27;</span>, exist_ok=<span class="literal">True</span>)</span><br><span class="line">    log_dir = <span class="string">&#x27;./log/nlp.log&#x27;</span></span><br><span class="line">    current_level = log_level_dict[<span class="string">&#x27;INFO&#x27;</span>]</span><br><span class="line">    log = <span class="string">&quot;[&#123;0&#125;] &#123;1&#125;: &#123;2&#125;\n&quot;</span>.<span class="built_in">format</span>(log_level, get_detail_time(), log_info)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> log_level_dict[log_level] &gt;= current_level:</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(log_dir, <span class="string">&#x27;a+&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(log)</span><br></pre></td></tr></table></figure>

<h3 id="Write-x2F-Read-File"><a href="#Write-x2F-Read-File" class="headerlink" title="Write &#x2F; Read File"></a>Write &#x2F; Read File</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">write_file</span>(<span class="params">file_name, data</span>):</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_name, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(data)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_file</span>(<span class="params">file_name</span>):</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_name, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">return</span> f.read()</span><br></pre></td></tr></table></figure>

<h3 id="Write-x2F-Read-Json-File"><a href="#Write-x2F-Read-Json-File" class="headerlink" title="Write &#x2F; Read Json File"></a>Write &#x2F; Read Json File</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">write_file</span>(<span class="params">file_name, data</span>):</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_name, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(data)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_file</span>(<span class="params">file_name</span>):</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_name, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">return</span> f.read()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">json_to_dict</span>(<span class="params">json_data</span>):</span><br><span class="line">    <span class="keyword">return</span> json.loads(json_data)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dict_to_json</span>(<span class="params">dict_data</span>):</span><br><span class="line">    <span class="keyword">return</span> json.dumps(dict_data, indent=<span class="number">4</span>, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">write_json_file</span>(<span class="params">file_name, dic</span>):</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_name, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(dict_to_json(dic))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_json_file</span>(<span class="params">file_name</span>):</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_name, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">return</span> json.load(f)</span><br></pre></td></tr></table></figure>

<h3 id="Get-x2F-Post-Request"><a href="#Get-x2F-Post-Request" class="headerlink" title="Get &#x2F; Post Request"></a>Get &#x2F; Post Request</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">send_req_by_get</span>(<span class="params">url</span>):</span><br><span class="line">    <span class="keyword">return</span> requests.get(url).text</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">send_req_by_post</span>(<span class="params">url, body</span>):</span><br><span class="line">    <span class="keyword">return</span> requests.post(</span><br><span class="line">        url,</span><br><span class="line">        data=body,</span><br><span class="line">        headers=&#123;<span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>&#125;</span><br><span class="line">    ).text</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;Need some code shown above&#x27;&#x27;&#x27;</span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_raw_data</span>(<span class="params">data</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;code&#x27;</span> <span class="keyword">in</span> data:</span><br><span class="line">        <span class="keyword">if</span> data[<span class="string">&#x27;code&#x27;</span>] == <span class="number">200</span>:</span><br><span class="line">            <span class="keyword">return</span> data[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">raise</span> Exception(<span class="string">&#x27;Fail To Send Request! Error Message: &#123;0&#125; &#123;1&#125;&#x27;</span>.<span class="built_in">format</span>(data[<span class="string">&#x27;code&#x27;</span>], data[<span class="string">&#x27;message&#x27;</span>]))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_rsp_data</span>(<span class="params">url, req_type, body=<span class="string">&quot;&quot;</span></span>):</span><br><span class="line">    <span class="keyword">if</span> req_type.upper() == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> get_raw_data(json_to_dict(send_req_by_get(url)))</span><br><span class="line">    <span class="keyword">elif</span> req_type.upper() == <span class="string">&quot;POST&quot;</span>:</span><br><span class="line">        <span class="keyword">if</span> body == <span class="string">&quot;&quot;</span>:</span><br><span class="line">            <span class="keyword">raise</span> Exception(<span class="string">&#x27;Empty body to post.&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> get_raw_data(json_to_dict(send_req_by_post(url, body)))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> Exception(<span class="string">&#x27;Error reqType: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(req_type))</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>Quick Check</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactivate Ubuntu Software Store</title>
    <url>/2023/05/21/Reactivate-Ubuntu-Software-Store/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>Can not open your Ubuntu Software Store</li>
</ul>
<span id="more"></span>

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>Suddenly, I couldnâ€™t open my Ubuntu Software Store anymore. (Ubuntu 20.04)</p>
<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><h3 id="1-The-command-I-already-run-but-may-most-likely-be-unnecessary"><a href="#1-The-command-I-already-run-but-may-most-likely-be-unnecessary" class="headerlink" title="1. The command I already run but may most likely be unnecessary"></a>1. The command I already run but may most likely be unnecessary</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo snap remove snap-store</span><br><span class="line">sudo apt purge snapd</span><br><span class="line">sudo apt install snapd</span><br><span class="line">sudo snap install snap-store</span><br></pre></td></tr></table></figure>

<h3 id="2-The-command-I-already-which-may-be-the-key-to-solve-the-problem-but-havent-been-verified"><a href="#2-The-command-I-already-which-may-be-the-key-to-solve-the-problem-but-havent-been-verified" class="headerlink" title="2. The command I already, which may be the key to solve the problem but havent been verified"></a>2. The command I already, which may be the key to solve the problem but havent been verified</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># this following commands may delete the software you install</span></span><br><span class="line"><span class="comment"># via Ubuntu Software Store. Please be careful.</span></span><br><span class="line">sudo <span class="built_in">rm</span> -rvf /var/lib/apt/lists/*</span><br><span class="line">sudp apt-get update</span><br><span class="line">sudo shutdown -r now</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>Troubleshoot</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Recommended Software On MacOS</title>
    <url>/2023/03/21/Recommended-Software-On-MacOS/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>MacOS Software Recommendation</li>
</ul>
<span id="more"></span>

<h2 id="Tools"><a href="#Tools" class="headerlink" title="Tools"></a>Tools</h2><h3 id="Screenshot"><a href="#Screenshot" class="headerlink" title="Screenshot"></a>Screenshot</h3><p><a href="https://www.snipaste.com/">Snipaste</a> ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ</p>
<h3 id="FTP"><a href="#FTP" class="headerlink" title="FTP"></a>FTP</h3><p>ForkLift ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ</p>
<h2 id="Product"><a href="#Product" class="headerlink" title="Product"></a>Product</h2><h3 id="Markdown-Editor"><a href="#Markdown-Editor" class="headerlink" title="Markdown Editor"></a>Markdown Editor</h3><p>Typora (Free Version) ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ</p>
<p><a href="https://github.com/marktext/marktext">MarkText</a> ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ</p>
]]></content>
      <tags>
        <tag>MacOS</tag>
        <tag>Env/Config</tag>
      </tags>
  </entry>
  <entry>
    <title>Python Virtual Environment On Ubuntu</title>
    <url>/2023/04/07/Python-Virtual-Environment-On-Ubuntu/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>Python Virtual Environment</li>
</ul>
<span id="more"></span>

<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><h3 id="Install-virtualenv"><a href="#Install-virtualenv" class="headerlink" title="Install virtualenv"></a>Install virtualenv</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install python3-virtualenv</span><br></pre></td></tr></table></figure>

<h3 id="Intialize-the-virtual-environment"><a href="#Intialize-the-virtual-environment" class="headerlink" title="Intialize the virtual environment"></a>Intialize the virtual environment</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> a_folder</span><br><span class="line"></span><br><span class="line"><span class="comment"># it will create a folder named &quot;venv&quot; which stores virtual environment</span></span><br><span class="line">virtual venv</span><br></pre></td></tr></table></figure>

<h3 id="Activate-the-virtual-environment"><a href="#Activate-the-virtual-environment" class="headerlink" title="Activate the virtual environment"></a>Activate the virtual environment</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> ven/bin/activate</span><br></pre></td></tr></table></figure>

<h3 id="Deactivate-the-virtual-environment"><a href="#Deactivate-the-virtual-environment" class="headerlink" title="Deactivate the virtual environment"></a>Deactivate the virtual environment</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">deactivate</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>Python</tag>
        <tag>Env/Config</tag>
      </tags>
  </entry>
  <entry>
    <title>Recommended Software On Ubuntu 20.04</title>
    <url>/2023/03/21/Recommended-Software-On-Ubuntu-20-04/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>Linux Software Recommendation</li>
</ul>
<span id="more"></span>

<h2 id="Tools"><a href="#Tools" class="headerlink" title="Tools"></a>Tools</h2><h3 id="Screenshot"><a href="#Screenshot" class="headerlink" title="Screenshot"></a>Screenshot</h3><p><a href="https://github.com/flameshot-org/flameshot">Flameshot</a> â“</p>
<h3 id="Cloud-Storage"><a href="#Cloud-Storage" class="headerlink" title="Cloud Storage"></a>Cloud Storage</h3><p><a href="https://www.jianguoyun.com/">Nutstore</a></p>
<h2 id="Product"><a href="#Product" class="headerlink" title="Product"></a>Product</h2><h3 id="Markdown-Editor"><a href="#Markdown-Editor" class="headerlink" title="Markdown Editor"></a>Markdown Editor</h3><p>Typora (Free Version) ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ</p>
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>Env/Config</tag>
      </tags>
  </entry>
  <entry>
    <title>Set Up A Odoo 12 Development Docker Image From Ubuntu 20.04 Docker Image</title>
    <url>/2023/03/23/Set-Up-A-Odoo-12-Development-Docker-Image-From-Ubuntu-20-04-Docker-Image/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>Odoo Installation</li>
<li>Non-Interactive Timezone Configuration</li>
</ul>
<span id="more"></span>

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>To avoid Odoo corrupting my noble macOS ğŸ¤«, Iâ€™ve decided to install Odoo on Ubuntu.</p>
<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><h3 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h3><p>Of course, you need to have Ubuntu which is <strong>20.04</strong> and it need to be able to connect the Internet.</p>
<p>And I will use X86 (amd64) in this post because I am not a masochist.</p>
<h3 id="Install-Git"><a href="#Install-Git" class="headerlink" title="Install Git"></a>Install Git</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># you may need to add &quot;sudo&quot; in front of the sentence if you don&#x27;t have the permission</span></span><br><span class="line">apt-get update</span><br><span class="line">apt-get install -y git</span><br></pre></td></tr></table></figure>

<h3 id="Timezone-Configuration-Optional"><a href="#Timezone-Configuration-Optional" class="headerlink" title="Timezone Configuration (Optional)"></a>Timezone Configuration (Optional)</h3><p>Who can Skip this step</p>
<ul>
<li>Already configure the timezone information (like GUI version)</li>
<li>Can configure timezone infomation manually (which will appear in Step 4)</li>
</ul>
<p>Who cannoy skip this step (or you will be stuck in the interactive interface in Step 4)</p>
<ul>
<li>Automated management</li>
<li>Create a docker image</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># use default setting firstly</span></span><br><span class="line"><span class="built_in">export</span> DEBIAN_FRONTEND=noninteractive</span><br><span class="line">apt-get install tzdata</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set local time to Australia/Sydney time</span></span><br><span class="line"><span class="built_in">ln</span> -fs /usr/share/zoneinfo/Australia/Sydney /etc/localtime</span><br><span class="line"></span><br><span class="line"><span class="comment"># activate the new time configuration</span></span><br><span class="line">dpkg-reconfigure -f noninteractive tzdata</span><br></pre></td></tr></table></figure>

<h3 id="Install-PostgreSQL"><a href="#Install-PostgreSQL" class="headerlink" title="Install PostgreSQL"></a>Install PostgreSQL</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># the version I downloaded is postgresql12</span></span><br><span class="line">apt-get install -y postgresql</span><br></pre></td></tr></table></figure>

<p><font color='red'><u><em>not finished yet</em></u></font></p>
]]></content>
      <categories>
        <category>Draft</category>
      </categories>
      <tags>
        <tag>DevOps</tag>
        <tag>Linux</tag>
        <tag>Odoo</tag>
        <tag>Env/Config</tag>
      </tags>
  </entry>
  <entry>
    <title>Set Up V2ray Environment On Oracle Free Tier</title>
    <url>/2023/04/17/Set-Up-V2ray-Environment-On-Oracle-Free-Tier/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>Learn to use oracle cloud platform</li>
<li>Set up a v2ray environment on linux</li>
</ul>
<span id="more"></span>

<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><h3 id="1-Apply-for-an-Oracle-Free-Tier"><a href="#1-Apply-for-an-Oracle-Free-Tier" class="headerlink" title="1. Apply for an Oracle Free Tier"></a>1. Apply for an Oracle Free Tier</h3><p>Go to <a href="https://www.oracle.com/au/cloud/free/">the official website</a> to apply for your free cloud server.</p>
<p><img data-src="/2023/04/17/Set-Up-V2ray-Environment-On-Oracle-Free-Tier/1.png"></p>
<p>In order to successfully apply for the free cloud server, you should have your credit card, billing address and your real IP location with you.</p>
<h3 id="2-Create-your-instance"><a href="#2-Create-your-instance" class="headerlink" title="2. Create your instance"></a>2. Create your instance</h3><p>Now you have already successfully applied for an free account and log in to the Oracle cloud interface.</p>
<h4 id="2-1-Click-the-instance"><a href="#2-1-Click-the-instance" class="headerlink" title="2.1 Click the instance"></a>2.1 Click the instance</h4><p><img data-src="/2023/04/17/Set-Up-V2ray-Environment-On-Oracle-Free-Tier/2.png"></p>
<h4 id="2-2-Create-Instance"><a href="#2-2-Create-Instance" class="headerlink" title="2.2 Create Instance"></a>2.2 Create Instance</h4><p><img data-src="/2023/04/17/Set-Up-V2ray-Environment-On-Oracle-Free-Tier/3.png"></p>
<p>After you create your instances, you can see them in this page.</p>
<h4 id="2-3-Custom-Initialization"><a href="#2-3-Custom-Initialization" class="headerlink" title="2.3 Custom Initialization"></a>2.3 Custom Initialization</h4><p>You should customize four things in this page.</p>
<p><img data-src="/2023/04/17/Set-Up-V2ray-Environment-On-Oracle-Free-Tier/4.png"></p>
<h5 id="2-3-1-Image-and-shape"><a href="#2-3-1-Image-and-shape" class="headerlink" title="2.3.1 Image and shape"></a>2.3.1 Image and shape</h5><p>Set it as CentOS 7 image</p>
<p><img data-src="/2023/04/17/Set-Up-V2ray-Environment-On-Oracle-Free-Tier/5.png"></p>
<p><img data-src="/2023/04/17/Set-Up-V2ray-Environment-On-Oracle-Free-Tier/6.png"></p>
<p><img data-src="/2023/04/17/Set-Up-V2ray-Environment-On-Oracle-Free-Tier/7.png"></p>
<h5 id="2-3-2-Networking"><a href="#2-3-2-Networking" class="headerlink" title="2.3.2 Networking"></a>2.3.2 Networking</h5><p>It should be your first time to create a network. So just create a new network.</p>
<p><img data-src="/2023/04/17/Set-Up-V2ray-Environment-On-Oracle-Free-Tier/8.png"></p>
<p><img data-src="/2023/04/17/Set-Up-V2ray-Environment-On-Oracle-Free-Tier/9.png"></p>
<h5 id="2-3-3-Add-SSH-keys"><a href="#2-3-3-Add-SSH-keys" class="headerlink" title="2.3.3 Add SSH keys"></a>2.3.3 Add SSH keys</h5><p>Save your private key, which you will use to login your machin by ssh.</p>
<p><img data-src="/2023/04/17/Set-Up-V2ray-Environment-On-Oracle-Free-Tier/10.png"></p>
<p>You can check <a href="https://simonczy.github.io/2023/03/27/Turn-On-SSH-Service-On-Ubuntu/#8-B-Use-private-key-to-ssh-A">here</a> to learn how to ssh a machine by private key.</p>
<h5 id="2-3-4-Boot-volume"><a href="#2-3-4-Boot-volume" class="headerlink" title="2.3.4 Boot volume"></a>2.3.4 Boot volume</h5><p><img data-src="/2023/04/17/Set-Up-V2ray-Environment-On-Oracle-Free-Tier/11.png"></p>
<p>After completing the four steps above, you can now create your machine.</p>
<h3 id="3-Machine-detail"><a href="#3-Machine-detail" class="headerlink" title="3. Machine detail"></a>3. Machine detail</h3><p>When your machine is running, you should be able to get its public ip address and user name, which you will use to ssh your cloud server. </p>
<p>And then, you should click the subnet.</p>
<p><img data-src="/2023/04/17/Set-Up-V2ray-Environment-On-Oracle-Free-Tier/12.png"></p>
<p><img data-src="/2023/04/17/Set-Up-V2ray-Environment-On-Oracle-Free-Tier/13.png"></p>
<p><img data-src="/2023/04/17/Set-Up-V2ray-Environment-On-Oracle-Free-Tier/14.png"></p>
<p><img data-src="/2023/04/17/Set-Up-V2ray-Environment-On-Oracle-Free-Tier/15.png"></p>
<p>And now, you already create your ingress rules.</p>
<h3 id="4-Build-up-your-v2ray-configuration-on-server"><a href="#4-Build-up-your-v2ray-configuration-on-server" class="headerlink" title="4. Build up your v2ray configuration on server"></a>4. Build up your v2ray configuration on server</h3><h4 id="4-1-SSH-your-machine"><a href="#4-1-SSH-your-machine" class="headerlink" title="4.1 SSH your machine"></a>4.1 SSH your machine</h4><p>If you meet some trouble in this step, you can check my <a href="https://simonczy.github.io/tags/SSH/">previous post</a> about SSH.</p>
<h4 id="4-2-Switch-to-root"><a href="#4-2-Switch-to-root" class="headerlink" title="4.2 Switch to root"></a>4.2 Switch to root</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo -i</span><br></pre></td></tr></table></figure>

<h3 id="4-3-Configure-v2ray"><a href="#4-3-Configure-v2ray" class="headerlink" title="4.3 Configure v2ray"></a>4.3 Configure v2ray</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bash &lt;(curl -s -L https://git.io/v2ray.sh)</span><br></pre></td></tr></table></figure>

<p>Chooes 1 at the first question, and then keep pressing â€œEnterâ€.</p>
<h4 id="4-4-Stop-firewall"><a href="#4-4-Stop-firewall" class="headerlink" title="4.4 Stop firewall"></a>4.4 Stop firewall</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl stop firewalld.service</span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld.service</span><br></pre></td></tr></table></figure>

<h4 id="4-5-Get-the-link"><a href="#4-5-Get-the-link" class="headerlink" title="4.5 Get the link"></a>4.5 Get the link</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># for url</span></span><br><span class="line">v2ray url</span><br><span class="line"></span><br><span class="line"><span class="comment"># or for qr code</span></span><br><span class="line">v2ray qr</span><br></pre></td></tr></table></figure>

<p>Now, you have already finish your work on server.</p>
<h3 id="5-Client"><a href="#5-Client" class="headerlink" title="5. Client"></a>5. Client</h3><p>You should install different clients based on different systems and use the link from <strong><u>4.5</u></strong> you just obtained to use the v2ray service.</p>
]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Env/Config</tag>
      </tags>
  </entry>
  <entry>
    <title>Steam Needs to Be Online to Update</title>
    <url>/2023/05/22/Steam-Needs-to-Be-Online-to-Update/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>Handle Steam Update Problem</li>
</ul>
<span id="more"></span>

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>One day after I reinstalled my steam on my Mac, my steam couldnâ€™t be opened anymore ğŸ˜­. Every time I try to start my steam, it will show that it need to update and after a few minutes it pop up the error message like this.</p>
<p><img data-src="/2023/05/22/Steam-Needs-to-Be-Online-to-Update/1.png"></p>
<p>You may want to know my version information:</p>
<ul>
<li><p>MacOS 13.1.1</p>
</li>
<li><p>Steam (downloaded from official website on 2023&#x2F;05&#x2F;21)</p>
</li>
</ul>
<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><h3 id="0-Preparation"><a href="#0-Preparation" class="headerlink" title="0. Preparation"></a>0. Preparation</h3><p>Before delving into my personal solution, Iâ€™d like to introduce some general troubleshooting approaches. This will help you identify any basic errors that might be causing the update failure before diving deeper into the issue.</p>
<ul>
<li><p>Check &#x2F; change your internet connection (wired, wireless, mobile hotspot)</p>
</li>
<li><p>Check &#x2F; change DNS configuration</p>
</li>
<li><p>Enable &#x2F; disable any VPN or proxy</p>
</li>
<li><p>Verify <a href="https://steamcommunity.com/">Steam server</a> status</p>
</li>
<li><p>Restart Steam &#x2F; computer</p>
</li>
<li><p>Reinstall Steam</p>
</li>
</ul>
<p>If you have already tried the above-mentioned methods and none of them have resolved your issue, then it is essential for you to go through the following content.</p>
<h3 id="1-My-solution"><a href="#1-My-solution" class="headerlink" title="1. My solution"></a>1. My solution</h3><p>Just like any other software, Steam relies on running a local update script to update itself. My solution will be to first locate this update script, then manually execute the update function to see what is going wrong, and finally resolve the issue.</p>
<h3 id="2-Find-out-the-steam-update-script"><a href="#2-Find-out-the-steam-update-script" class="headerlink" title="2. Find out the steam update script"></a>2. Find out the steam update script</h3><p>When our approach is correct, we usually see results quickly. Letâ€™s explore the executable files in the Steam package content (There wonâ€™t be too many files in this folder because you just install it but havenâ€™t updated yet).</p>
<p>Here is the update file I found.</p>
<p><code>Application -&gt; Steam -&gt; Contents -&gt; MacOS -&gt; steam_osx</code></p>
<h3 id="3-Run-the-update-script-manually"><a href="#3-Run-the-update-script-manually" class="headerlink" title="3. Run the update script manually"></a>3. Run the update script manually</h3><p>You just need to double click the steam_osx file, which is a unix executable file.</p>
<p><img data-src="/2023/05/22/Steam-Needs-to-Be-Online-to-Update/2.png"></p>
<p>Here come the output message.</p>
<p><img data-src="/2023/05/22/Steam-Needs-to-Be-Online-to-Update/3.png"></p>
<p>As you can see, it shows that steam can not download something from <a href="http://media.steampowered.com/client/steam_client_osx">http://media.steampowered.com/client/steam_client_osx</a></p>
<p>Then I tried accessing the link in my browser, and indeed, my computer couldnâ€™t access that link, but my mobile phone could.</p>
<p>Well, the we have identified the issue, and now the remaining task is to determine how to resolve it.</p>
<h3 id="4-Resolve-the-network-connection-issue"><a href="#4-Resolve-the-network-connection-issue" class="headerlink" title="4. Resolve the network connection issue"></a>4. Resolve the network connection issue</h3><p>It should be noted that my phones can be connected, but my computers cannot, which means there should be some configuration error in my computer.</p>
<p>Because I had already checked DNS configuration in step 0 before. Therefore, I am now inclined towards the incorrect configuration of the host file. </p>
<p>Before I move on, please let me introduce some details about host file.</p>
<h4 id="What-is-host"><a href="#What-is-host" class="headerlink" title="What is host"></a>What is host</h4><p><em>A systemâ€™s hosts file maps hostnames to IP addresses. Users can override default DNS information for a given domain and specify their IP addresses.</em></p>
<p>Let us use vim to edit the host file. The host file path in my mac is:</p>
<p><code>/etc/hosts</code></p>
<p>Here comes the problem (I have already add â€œ# â€œ at the beginning of each line here to fix the problem, so what you see is a problem-fixed version. You can just remove the â€œ# â€œ at the beginning of each line to reproduce the problem).</p>
<p><img data-src="/2023/05/22/Steam-Needs-to-Be-Online-to-Update/4.png"></p>
<h3 id="5-Conclusion"><a href="#5-Conclusion" class="headerlink" title="5. Conclusion"></a>5. Conclusion</h3><p>On a previous day, for some reason, I added this batch of strategies to modify the host for Steam. But at a certain point in time, these strategies no longer apply, and I forgot to make adjustments to the host file. Therefore, after reinstalling the Steam, every time the program tries to perform the â€œUpdate Steamâ€ operation, it will be redirected to an unavailable IP (74.126.135.131), which leads to the failure of â€œUpdate Steamâ€ operation.</p>
]]></content>
      <tags>
        <tag>Troubleshoot</tag>
        <tag>MacOS</tag>
        <tag>Nerwork</tag>
      </tags>
  </entry>
  <entry>
    <title>The First Thing You Should Know</title>
    <url>/2023/02/15/The-First-Thing-You-Should-Know/</url>
    <content><![CDATA[<p>ğŸ¥³ Welcome to Mind Game!!!</p>
<p>ğŸ“‘ As the first post on my personal website, it can show you the way my thought hidden behind all my posts. Please take your time and enjoy your trip! </p>
<span id="more"></span>

<h2 id="My-Game"><a href="#My-Game" class="headerlink" title="My Game"></a>My Game</h2><h3 id="1-Categories"><a href="#1-Categories" class="headerlink" title="1. Categories:"></a>1. Categories:</h3><p>Sort by alphabetical order.</p>
<ul>
<li><strong><u>Draft</u></strong></li>
</ul>
<h3 id="2-Tag"><a href="#2-Tag" class="headerlink" title="2. Tag"></a>2. Tag</h3><p>Sort by alphabetical order.</p>
<ul>
<li>Related to specific fields<ul>
<li><strong><u>BIOS</u></strong></li>
<li><strong><u>Bot</u></strong></li>
<li><strong><u>C++</u></strong></li>
<li><strong><u>DevOps</u></strong></li>
<li><strong><u>Interview</u></strong></li>
<li><strong><u>Linux</u></strong></li>
<li><strong><u>MacOS</u></strong></li>
<li><strong><u>Network</u></strong></li>
<li><strong><u>Odoo</u></strong></li>
<li><strong><u>Python</u></strong></li>
<li><strong><u>SSH</u></strong></li>
</ul>
</li>
<li>Related to the purpose of posts<ul>
<li><strong><u>Env&#x2F;Config</u></strong>: To set up a new environment or make it easier to use.</li>
<li><u><strong>Introduction</strong></u>: The first thing you need to know about the new field or new shit (such as this postğŸ¤”).</li>
<li><strong><u>Quick Check</u></strong>: Mainly consists of commands, scripts, or code with a simple or no explanation.</li>
<li><strong><u>Record</u></strong>: Just record. ğŸ“ To add a touch of color to ordinary life.</li>
<li><strong><u>Troubleshoot</u></strong>: The way to deal with unseen mistakes. It does more focus on the way I thought ğŸ’­ than the technology I used.</li>
</ul>
</li>
</ul>
<h3 id="1-Other"><a href="#1-Other" class="headerlink" title="-1. Other"></a>-1. Other</h3><ul>
<li>All blog content may be modified at some point in the future for some reason. (I will try to keep my change log, but human beings are lazy).</li>
</ul>
]]></content>
      <tags>
        <tag>Introduction</tag>
      </tags>
  </entry>
  <entry>
    <title>Turn On SSH Service On Ubuntu</title>
    <url>/2023/03/27/Turn-On-SSH-Service-On-Ubuntu/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>Turn On Ubuntu SSL Service</li>
<li>Connect Ubuntu From Public Network</li>
</ul>
<span id="more"></span>

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>I would like to control my server even I am not in my home. Let set target server is A, and the laptop is B.</p>
<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><h3 id="1-Get-the-local-IP-of-A"><a href="#1-Get-the-local-IP-of-A" class="headerlink" title="1. Get the local IP of A"></a>1. Get the local IP of A</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># run on A</span></span><br><span class="line">ifconfig</span><br><span class="line"><span class="comment"># let assume this IP is 192.168.1.1</span></span><br></pre></td></tr></table></figure>

<h3 id="2-SSH-from-B-in-the-same-WI-FI-Fail"><a href="#2-SSH-from-B-in-the-same-WI-FI-Fail" class="headerlink" title="2. SSH from B in the same WI-FI  - Fail"></a>2. SSH from B in the same WI-FI  - Fail</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># run on B</span></span><br><span class="line">ssh user@192.168.1.1</span><br><span class="line"></span><br><span class="line"><span class="comment"># ssh: connect to host user@192.168.1.1 port 22: Connection refused</span></span><br></pre></td></tr></table></figure>

<h3 id="3-Install-OpenSSH-in-A"><a href="#3-Install-OpenSSH-in-A" class="headerlink" title="3. Install OpenSSH  in A"></a>3. Install OpenSSH  in A</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install -y openssh-server</span><br></pre></td></tr></table></figure>

<h3 id="4-SSH-from-B-in-the-same-WI-FI-Success"><a href="#4-SSH-from-B-in-the-same-WI-FI-Success" class="headerlink" title="4. SSH from B in the same WI-FI - Success"></a>4. SSH from B in the same WI-FI - Success</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># run on B</span></span><br><span class="line">ssh user@192.168.1.1</span><br><span class="line"></span><br><span class="line"><span class="comment"># connect successfully</span></span><br><span class="line"><span class="comment"># but not secure enough</span></span><br></pre></td></tr></table></figure>

<h3 id="5-Generate-key-in-A"><a href="#5-Generate-key-in-A" class="headerlink" title="5. Generate key in A"></a>5. Generate key in A</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># keep clicking enter</span></span><br><span class="line">ssh-keygen</span><br><span class="line"></span><br><span class="line"><span class="comment"># enter ssh folder to see public key and private key</span></span><br><span class="line"><span class="built_in">cd</span> ~/.ssh</span><br><span class="line"><span class="built_in">cat</span> id_rsa.pub &gt;&gt; authorized_keys</span><br><span class="line"></span><br><span class="line"><span class="comment"># copy the private key to B</span></span><br></pre></td></tr></table></figure>

<h3 id="6-Change-SSH-configuration-in-A"><a href="#6-Change-SSH-configuration-in-A" class="headerlink" title="6. Change SSH configuration in A"></a>6. Change SSH configuration in A</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/ssh/sshd_config</span><br><span class="line"></span><br><span class="line"><span class="comment"># enable:</span></span><br><span class="line"><span class="comment"># use public key to login</span></span><br><span class="line"><span class="comment">#     &quot;PubkeyAuthentication yes&quot;</span></span><br><span class="line"><span class="comment"># people can not use password to login</span></span><br><span class="line"><span class="comment">#     &quot;PasswordAuthentication no&quot;</span></span><br><span class="line"><span class="comment"># change SSL port:</span></span><br><span class="line"><span class="comment">#     &quot;Port 33333&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="7-Restart-SSH-service-in-A"><a href="#7-Restart-SSH-service-in-A" class="headerlink" title="7. Restart SSH service in A"></a>7. Restart SSH service in A</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">service sshd restart</span><br></pre></td></tr></table></figure>

<h3 id="8-B-Use-private-key-to-ssh-A"><a href="#8-B-Use-private-key-to-ssh-A" class="headerlink" title="8. B Use private key to ssh A"></a>8. B Use private key to ssh A</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh user@192.168.1.1 -p 33333</span><br><span class="line"><span class="comment"># user@192.168.1.1: Permission denied (publickey).</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># enter the folder that contains private key</span></span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line"><span class="comment"># id_rsa</span></span><br><span class="line"><span class="built_in">chmod</span> 0600 id_rsa</span><br><span class="line"></span><br><span class="line">ssh user@192.168.1.1 -p 33333 -i id_rsa</span><br><span class="line"><span class="comment"># login successfully</span></span><br></pre></td></tr></table></figure>

<h3 id="9-Add-private-into-system-in-B"><a href="#9-Add-private-into-system-in-B" class="headerlink" title="9. Add private into system in B"></a>9. Add private into system in B</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># login successfully now even without linking private key, however, it needs to run this command every time you poweroff B</span></span><br><span class="line">ssh-add -K id_rsa</span><br><span class="line">ssh user@192.168.1.1 -p 33333</span><br><span class="line"></span><br><span class="line"><span class="comment"># or you can set up the ssh configuration on B, which is macOS system</span></span><br><span class="line">vim ~/.ssh/config</span><br></pre></td></tr></table></figure>

<p><img data-src="/2023/03/27/Turn-On-SSH-Service-On-Ubuntu/3.png"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># and you can ssh A like that now, without setting username, port and identify file</span></span><br><span class="line">ssh ubuntu</span><br></pre></td></tr></table></figure>

<h3 id="10-Connect-to-A-from-public-IP"><a href="#10-Connect-to-A-from-public-IP" class="headerlink" title="10. Connect to A from public IP"></a>10. Connect to A from public IP</h3><p>You need to enter your router to configure NAT Forwarding.</p>
<p><img data-src="/2023/03/27/Turn-On-SSH-Service-On-Ubuntu/1.png"></p>
<p><img data-src="/2023/03/27/Turn-On-SSH-Service-On-Ubuntu/2.png"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># you can now ssh to your server in outside by public IP address just like you did in your local network</span></span><br><span class="line">ssh user@142.251.165.100 -p 33333 -i id_rsa</span><br></pre></td></tr></table></figure>

<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p><a href="https://simonczy.github.io/2023/03/09/Mac-SSH-Amazon-Using-Pem/">Mac SSH Amazon Using Pem</a></p>
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>Env/Config</tag>
        <tag>SSH</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu Safety Command</title>
    <url>/2023/06/03/Ubuntu-Safety-Command/</url>
    <content><![CDATA[<p>Frequently used ubuntu safety commands</p>
<span id="more"></span>

<h2 id="Ubuntu-Safety-Quick-Start"><a href="#Ubuntu-Safety-Quick-Start" class="headerlink" title="Ubuntu Safety Quick Start"></a>Ubuntu Safety Quick Start</h2><h3 id="display-current-user"><a href="#display-current-user" class="headerlink" title="display current user"></a>display current user</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">who</span></span><br></pre></td></tr></table></figure>

<h3 id="display-login-log"><a href="#display-login-log" class="headerlink" title="display login log"></a>display login log</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">last</span><br></pre></td></tr></table></figure>

<h3 id="display-user-login-log"><a href="#display-user-login-log" class="headerlink" title="display user login log"></a>display user login log</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">lastlog</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>Quick Check</tag>
      </tags>
  </entry>
  <entry>
    <title>Upgrade Official Odoo12 Image From py3.5 To py3.8</title>
    <url>/2023/03/08/Upgrade-Official-Odoo12-Image-From-py3-5-To-py3-8/</url>
    <content><![CDATA[<p>ğŸ’¡ This post is insightful for the following scenarios.</p>
<ul>
<li>Python Upgrade</li>
<li>Docker Creation</li>
<li>Odoo Dependencies</li>
</ul>
<span id="more"></span>

<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>Due to the updated project requirements, we need to use new third-party libraries that require a newer version of Python. However, the Python version provided in the <strong>official Odoo 12.0 Docker image</strong> is too outdated, so we need to upgrade the Python version from 3.5 to 3.8.</p>
<p>Here I will use pyenv to upgrade the python version. And the final dockerfile will be offered in the end.</p>
<p>Environment: odoo:12.0 (<a href="https://hub.docker.com/layers/library/odoo/12.0/images/sha256-6521005019c9f11e83f1c5419aab961f7e6a4f9757347df2ff0e103024e96b73?context=explore">link</a>)</p>
<h2 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Step</h2><h3 id="Install-the-dependencies-for-python-3-8"><a href="#Install-the-dependencies-for-python-3-8" class="headerlink" title="Install the dependencies for python 3.8"></a>Install the dependencies for python 3.8</h3><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="comment"># install the dependencies for python3.8</span></span><br><span class="line"><span class="keyword">USER</span> root</span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apt-get update &amp;&amp; apt-get install -y default-libmysqlclient-dev build-essential git gcc make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev libffi-dev liblzma-dev libldap2-dev libsasl2-dev</span></span><br></pre></td></tr></table></figure>

<h3 id="Set-the-environment-variable-PYENV-ROOT-for-pyenv"><a href="#Set-the-environment-variable-PYENV-ROOT-for-pyenv" class="headerlink" title="Set the environment variable $PYENV_ROOT for pyenv"></a>Set the environment variable $PYENV_ROOT for pyenv</h3><p>Reason: the docker will be run by user â€œodooâ€. Therefore, we should set up a python path that can be accessed by user â€œodooâ€</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ENV</span> PYENV_ROOT=/var/local/pyenv/</span><br></pre></td></tr></table></figure>

<h3 id="Install-python-3-8-by-pyenv"><a href="#Install-python-3-8-by-pyenv" class="headerlink" title="Install python 3.8 by pyenv"></a>Install python 3.8 by pyenv</h3><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="comment"># install python 3.8</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> curl -L https://raw.githubusercontent.com/yyuu/pyenv-installer/master/bin/pyenv-installer | bash</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> /var/local/pyenv/bin/pyenv install 3.8.15 &amp;&amp; /var/local/pyenv/bin/pyenv global 3.8.15</span></span><br></pre></td></tr></table></figure>

<h3 id="Change-python-3-5-gt-python-3-8-for-odoo-binary-file"><a href="#Change-python-3-5-gt-python-3-8-for-odoo-binary-file" class="headerlink" title="Change python 3.5 -&gt; python 3.8 for odoo binary file"></a>Change python 3.5 -&gt; python 3.8 for odoo binary file</h3><p>The way to test if the odoo can run in odoo offcial docker image, is to input â€œodooâ€ and click â€œenterâ€ button.<br><img data-src="/2023/03/08/Upgrade-Official-Odoo12-Image-From-py3-5-To-py3-8/1.png"></p>
<p>How do you know which python it is using? Let try!</p>
<p><img data-src="/2023/03/08/Upgrade-Official-Odoo12-Image-From-py3-5-To-py3-8/2.png"></p>
<p>Well. Now is easy. Just create a soft link to current python3.</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">rm</span> /usr/bin/python3 &amp;&amp; <span class="built_in">ln</span> -s /var/local/pyenv/shims/python3 /usr/bin/python3</span></span><br></pre></td></tr></table></figure>

<h3 id="List-all-the-python-3-5-package-and-try-to-install-them-into-python-3-8-package"><a href="#List-all-the-python-3-5-package-and-try-to-install-them-into-python-3-8-package" class="headerlink" title="List all the python 3.5 package and try to install them into python 3.8 package"></a>List all the python 3.5 package and try to install them into python 3.8 package</h3><p>Use this command to see current package.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># check current package</span></span><br><span class="line">pip3 list</span><br><span class="line"></span><br><span class="line"><span class="comment"># output current package as requirements.txt</span></span><br><span class="line">pip3 freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure>

<p><img data-src="/2023/03/08/Upgrade-Official-Odoo12-Image-From-py3-5-To-py3-8/3.png"></p>
<p>Here comes some principle that I follow:</p>
<ul>
<li>For some packages you can not download it by pip, like odoo,  you should completely move it from 3.5 package to 3.8 package, including package itself and its information (.egg-info file)</li>
<li>For some packages version you can directly download and use, you should download it to avoid unexpected error.</li>
<li>For some pacgage version you cannot download or cannot use, you should download the newest version.</li>
</ul>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="comment"># install odoo dependencies</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">mv</span> /usr/lib/python3/dist-packages/odoo /var/local/pyenv/versions/3.8.15/lib/python3.8/site-packages/odoo &amp;&amp; <span class="built_in">mv</span> /usr/lib/python3/dist-packages/odoo-12.0.post20211006.egg-info/ /var/local/pyenv/versions/3.8.15/lib/python3.8/site-packages/odoo-12.0.post20211006.egg-info/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># you should put dockerfile and requirements.txt in the same folder</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> ./requirements.txt /</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> /var/local/pyenv/shims/pip install -r /requirements.txt</span></span><br></pre></td></tr></table></figure>

<h3 id="Change-to-user-â€œodooâ€"><a href="#Change-to-user-â€œodooâ€" class="headerlink" title="Change to user â€œodooâ€"></a>Change to user â€œodooâ€</h3><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">USER</span> odoo</span><br></pre></td></tr></table></figure>

<h3 id="Build-the-docker-image"><a href="#Build-the-docker-image" class="headerlink" title="Build the docker image"></a>Build the docker image</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker build -t UserName/RepName:TagName .</span><br></pre></td></tr></table></figure>

<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p><a href="/2023/03/08/Upgrade-Official-Odoo12-Image-From-py3-5-To-py3-8/Dockerfile">Dockerfile download link</a></p>
<p><a href="/2023/03/08/Upgrade-Official-Odoo12-Image-From-py3-5-To-py3-8/requirements.txt">requirements.txt download link</a></p>
]]></content>
      <tags>
        <tag>DevOps</tag>
        <tag>Python</tag>
        <tag>Odoo</tag>
        <tag>Env/Config</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2022/12/09/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<span id="more"></span>

<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>æ“ä½œç³»ç»Ÿç›¸å…³çŸ¥è¯†</title>
    <url>/2023/08/24/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>Draft</category>
      </categories>
      <tags>
        <tag>Quick Check</tag>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®åº“ç›¸å…³çŸ¥è¯†</title>
    <url>/2023/08/24/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>Draft</category>
      </categories>
      <tags>
        <tag>Quick Check</tag>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„ç›¸å…³çŸ¥è¯†</title>
    <url>/2023/08/24/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>Draft</category>
      </categories>
      <tags>
        <tag>Quick Check</tag>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºç½‘ç»œç›¸å…³çŸ¥è¯†</title>
    <url>/2023/08/24/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>Draft</category>
      </categories>
      <tags>
        <tag>Quick Check</tag>
        <tag>Interview</tag>
      </tags>
  </entry>
</search>
